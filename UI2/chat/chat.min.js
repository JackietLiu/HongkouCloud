/*! 
* WeX5 v3 (http://www.justep.com) 
* Copyright 2015 Justep, Inc.
* Licensed under Apache License, Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0) 
*/

/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */

/*! 
 * WeX5 v3 (http://www.justep.com) 
 * Copyright 2015 Justep, Inc.
 * Licensed under Apache License, Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0) 
 */

/*!
 * clipboard.js v1.5.10
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */

/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */

/*! PhotoSwipe - v4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */

define("$model/chat/config",["require"],function(e){var t={ALL:10,DEBUG:9,INFO:8,WARN:7,ERROR:6,OFF:5},n={"default":{method:"log",level:t.ALL},d:{method:"log",level:t.DEBUG},i:{method:"info",level:t.INFO},w:{method:"warn",level:t.WARN},e:{method:"error",level:t.ERROR}},r=function(e){var t=n[e];return t?t:n["default"]},i=function(e,n,i){var s=t.INFO,o=r(n);s>=o.level&&console[o.method](e+": "+i)};return{endpoints:["ws://120.76.42.1:9080"],logHandler:i}}),define("$model/chat/lib/actor/actorClient",["require","jquery","../../config","./actor"],function(e){var t=e("jquery"),n=e("../../config");e("./actor");var r=t.Deferred(),i,s=function(){i=new o,window.Promise?r.resolve(i):e(["./promise-pollfill"],function(){r.resolve(i)})};window.isJsAppLoaded?s():window.jsAppLoaded=s;var o=function(){this.messager=new window.actor.ActorApp,this.messager.init(n)};o.prototype.unbind=function(e){var n=this.messager,r=t.makeArray(arguments).slice(1);return{unbind:function(){n[e].apply(n,r)}}},o.prototype.requestSms=function(e){var n=t.Deferred();if(e)try{this.messager.requestSms(e,function(){n.resolve()},function(e){n.reject(e)})}catch(r){n.reject(r)}else n.reject("phone is empty");return n.promise()},o.prototype.sendCode=function(e){var n=t.Deferred();if(e)try{this.messager.sendCode(e,function(e){n.resolve(e)},function(e){n.reject(e)})}catch(r){n.reject(r)}return n.promise()},o.prototype.bindDialogs=function(e){return this.messager.bindDialogs(e),this.unbind("unbindDialogs",e)},o.prototype.unbindDialogs=function(e){this.messager.unbindDialogs(e)},o.prototype.bindConnectState=function(e){return this.messager.bindConnectState(e),this.unbind("unbindConnectState",e)},o.prototype.unbindConnectState=function(e){this.messager.unbindConnectState(e)},o.prototype.unbindChat=function(e,t){this.messager.unbindChat(e,t)},o.prototype.bindChat=function(e,t){return this.messager.bindChat(e,t),this.unbind("unbindChat",e,t)},o.prototype.bindMessages=function(e,t){var n=this.messager.bindMessages(e,t);return n.initAll(),n},o.prototype.bindContacts=function(e,t){return this.messager.bindContacts(e,t),this.unbind("unbindContacts",e,t)},o.prototype.unbindContacts=function(e,t){this.messager.unbindContacts(e,t)},o.prototype.sendTextMessage=function(e,t){this.messager.sendMessage(e,t)},o.prototype.sendPhotoMessage=function(e,t){this.messager.sendPhoto(e,t)},o.prototype.sendClipboardPhotoMessage=function(e,t){this.messager.sendClipboardPhoto(e,t)},o.prototype.sendFileMessage=function(e,t){this.messager.sendFile(e,t)},o.prototype.deleteChat=function(e){return this.messager.deleteChat(e)},o.prototype.clearChat=function(e){return this.messager.clearChat(e)},o.prototype.deleteMessage=function(e,t){return this.messager.deleteMessage(e,t)},o.prototype.bindUser=function(e,t){return this.messager.bindUser(e,t),this.unbind("unbindUser",e,t)},o.prototype.unbindUser=function(e,t){this.messager.unbindUser(e,t)},o.prototype.getUser=function(e){return this.messager.getUser(e)},o.prototype.getGroup=function(e){return this.messager.getGroup(e)},o.prototype.findUsers=function(e){var t=this.messager.findUsers(e.toString());return t},o.prototype.onConversationOpen=function(e){this.messager.onConversationOpen(e)},o.prototype.onConversationClosed=function(e){this.messager.onConversationClosed(e)},o.prototype.onMessageShown=function(e,t){this.messager.onMessageShown(e,t)},o.prototype.onChatEnd=function(e){this.messager.onChatEnd(e)},o.prototype.bindUserOnline=function(e,t){return this.messager.bindUserOnline(e,t),this.unbind("unbindUserOnline",e,t)},o.prototype.unbindUserOnline=function(e,t){this.messager.unbindUserOnline(e,t)},o.prototype.bindGroupOnline=function(e,t){return this.messager.bindGroupOnline(e,t),this.unbind("unbindGroupOnline",e,t)},o.prototype.bindTyping=function(e,t){return this.messager.bindTyping(e,t),this.unbind("unbindTyping",e,t)},o.prototype.unbindTyping=function(e,t){this.messager.unbindTyping(e,t)},o.prototype.getUid=function(){return this.messager.getUid()},o.prototype.editMyName=function(e){this.messager.editMyName(e)},o.prototype.editMyNick=function(e){this.messager.editMyNick(e)},o.prototype.editMyAbout=function(e){return this.messager.editMyAbout(e)},o.prototype.getUserPeer=function(e){return this.messager.getUserPeer(e)},o.prototype.createGroup=function(e,t,n){return this.messager.createGroup(e,t,n)},o.prototype.addContact=function(e){return this.messager.addContact(e)},o.prototype.removeContact=function(e){return this.messager.removeContact(e)},o.prototype.bindGroupDialogs=function(e){return this.messager.bindGroupDialogs(e),this.unbind("unbindGroupDialogs",e)},o.prototype.unbindGroupDialogs=function(e){this.messager.unbindGroupDialogs(e)},o.prototype.getGroupPeer=function(e){return this.messager.getGroupPeer(e)},o.prototype.leaveGroup=function(e){return this.messager.leaveGroup(e)},o.prototype.inviteMember=function(e,t){return this.messager.inviteMember(e,t)},o.prototype.kickMember=function(e,t){return this.messager.kickMember(e,t)},o.prototype.bindGroup=function(e,t){return this.messager.bindGroup(e,t),this.unbind("unbindGroup",e,t)},o.prototype.unbindGroup=function(e,t){this.messager.unbindGroup(e,t)},o.prototype.isLoggedIn=function(){return this.messager.isLoggedIn()},o.prototype.changeNotificationsEnabled=function(e,t){this.messager.changeNotificationsEnabled(e,t)},o.prototype.isNotificationsEnabled=function(e){return this.messager.isNotificationsEnabled(e)},o.prototype.isSendByEnterEnabled=function(){return this.messager.isSendByEnterEnabled()},o.prototype.changeSendByEnter=function(e){this.messager.changeSendByEnter(e)},o.prototype.editGroupTitle=function(e,t){return this.messager.editGroupTitle(e,t)},o.prototype.editGroupAbout=function(e,t){return this.messager.editGroupAbout(e,t)},o.prototype.addLike=function(e,t){return this.messager.addLike(e,t)},o.prototype.removeLike=function(e,t){return this.messager.removeLike(e,t)},o.prototype.findAllText=function(e,t){return this.messager.findAllText(e,t)},o.prototype.findAllDocs=function(e){return this.messager.findAllDocs(e)},o.prototype.findAllLinks=function(e){return this.messager.findAllDocs(e)},o.prototype.findAllPhotos=function(e){return this.messager.findAllDocs(e)},o.prototype.renderMarkdown=function(e){return this.messager.renderMarkdown(e)},o.prototype.rndNum=function(e){var t="";for(var n=0;n<e;n++)t+=Math.floor(Math.random()*10);return t};var u=function(e,t){return"&"+t+"&"+e};return o.prototype.sendVoiceMessage=function(e,t,n){return this.messager.sendVoiceMessage(e,t,n)},o.prototype.validPerson=function(e,n){var r=t.Deferred(),i=this;if(e)try{this.messager.requestSms("66"+this.rndNum(11),function(){i.messager.sendCode(u(e,n),function(e){r.resolve(e)},function(e){r.reject(e)})},function(e){r.reject(e)})}catch(s){r.reject(s)}else r.reject("人员ID不能为空");return r.promise()},o.prototype.registerUser=function(e,t){return this.messager.findUsers(u(e,t))},o.prototype.bindGlobalCounter=function(e){this.messager.bindGlobalCounter(e)},o.prototype.unbindGlobalCounter=function(e){this.messager.unbindGlobalCounter(e)},o.prototype.onDialogsEnd=function(){this.messager.onDialogsEnd()},o.prototype.findGroups=function(e){return this.messager.findGroups(e)},o.prototype.requestCodeEmail=function(e){return new Promise(function(t,n){this.messager.requestCodeEmail(e.trim(),t,n)})},o.prototype.registerUsers=function(e,t){return this.messager.registerUsers(e,t)},o.prototype.validateToken=function(e,n,r){var i=t.Deferred();try{this.messager.validateToken(e,n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(s){i.reject(s)}return i.promise()},o.prototype.searchText=function(e,t,n,r){return this.messager.findAllText(e,t,n,r)},o.prototype.searchFiles=function(e,t,n){return this.messager.findAllFiles(e,t,n)},{promise:r.promise(),getClient:function(){return i},isLoggedIn:function(e){if(i&&i.isLoggedIn()){var t=i.getUid();if(t){var n=i.getUser(t);return n&&n.nick==e}}return!1}}}),define("$model/chat/base/js/im",["require"],function(e){var t=function(){return!!r.impl},n=function(e){if(t()){if(typeof e=="string"){var n=r.impl[e];if(!n)throw"IM - 没有函数: "+e;var i=[];for(var s=1;s<arguments.length;s++)i.push(arguments[s]);return n.apply(r.impl,i)}throw"IM - call必须有需要调用函数名参数"}},r={fileSize:52428800,impl:null,on:function(){},off:function(){if(t())return r.impl.off.apply(r.impl,arguments)},fireEvent:function(){if(t())return r.impl.fireEvent.apply(r.impl,arguments)},autoLogin:function(){if(t())return r.impl.autoLogin.apply(r.impl,arguments)},login:function(){if(t())return r.impl.login.apply(r.impl,arguments)},loginActor:function(){if(t())return r.impl.loginActor.apply(r.impl,arguments)},logout:function(){if(t())return r.impl.logout.apply(r.impl,arguments)},getPersonByUID:function(){if(t())return r.impl.getPersonByUID.apply(r.impl,arguments)},getPerson:function(){if(t())return r.impl.getPerson.apply(r.impl,arguments)},addPerson:function(){if(t())return r.impl.addPerson.apply(r.impl,arguments)},isLoggedIn:function(){if(t())return r.impl.isLoggedIn.apply(r.impl,arguments)},getCurrentPerson:function(){if(t())return r.impl.getCurrentPerson.apply(r.impl,arguments)},getCurrentPersonID:function(){if(t())return r.impl.getCurrentPersonID.apply(r.impl,arguments)},regPerson:function(){if(t())return r.impl.regPerson.apply(r.impl,arguments)},registerUsers:function(){if(t())return r.impl.registerUsers.apply(r.impl,arguments)},addFriends:function(){if(t())return r.impl.addFriends.apply(r.impl,arguments)},addFriend:function(){if(t())return r.impl.addFriend.apply(r.impl,arguments)},existFriend:function(){if(t())return r.impl.existFriend.apply(r.impl,arguments)},getPersonDefaultIcon:function(){if(t())return r.impl.getPersonDefaultIcon.apply(r.impl,arguments)},getGroupDefaultIcon:function(){if(t())return r.impl.getGroupDefaultIcon.apply(r.impl,arguments)},messageParse:function(){if(t())return r.impl.messageParse.apply(r.impl,arguments)},emojiParse:function(){if(t())return r.impl.emojiParse.apply(r.impl,arguments)},bindDialogs:function(e){if(t())return r.impl.bindDialogs.apply(r.impl,arguments)},unbindDialogs:function(e){if(t())return r.impl.unbindDialogs.apply(r.impl,arguments)},bindChat:function(e,n){if(t())return r.impl.bindChat.apply(r.impl,arguments)},unbindChat:function(e,n){if(t())return r.impl.unbindChat.apply(r.impl,arguments)},sendTextMessageToPerson:function(e,n){if(t())return r.impl.sendTextMessageToPerson.apply(r.impl,arguments)},sendTextMessage:function(e,n){if(t())return r.impl.sendTextMessage.apply(r.impl,arguments)},sendPhotoMessage:function(e,n){if(t())return r.impl.sendPhotoMessage.apply(r.impl,arguments)},sendClipboardPhotoMessage:function(e,n){if(t())return r.impl.sendClipboardPhotoMessage.apply(r.impl,arguments)},sendFileMessage:function(e,n){if(t())return r.impl.sendFileMessage.apply(r.impl,arguments)},sendVoiceMessage:function(e,n,i){if(t())return r.impl.sendVoiceMessage.apply(r.impl,arguments)},deleteChat:function(e){if(t())return r.impl.deleteChat.apply(r.impl,arguments)},clearChat:function(e){if(t())return r.impl.clearChat.apply(r.impl,arguments)},deleteMessage:function(e,n){if(t())return r.impl.deleteMessage.apply(r.impl,arguments)},bindUser:function(e,n){if(t())return r.impl.bindUser.apply(r.impl,arguments)},unbindUser:function(e,n){if(t())return r.impl.unbindUser.apply(r.impl,arguments)},getUser:function(e){if(t())return r.impl.getUser.apply(r.impl,arguments)},getGroup:function(e){if(t())return r.impl.getGroup.apply(r.impl,arguments)},findUsers:function(e){if(t())return r.impl.findUsers.apply(r.impl,arguments)},onConversationOpen:function(e){if(t())return r.impl.onConversationOpen.apply(r.impl,arguments)},onConversationClosed:function(e){if(t())return r.impl.onConversationClosed.apply(r.impl,arguments)},onMessageShown:function(e,n){if(t())return r.impl.onMessageShown.apply(r.impl,arguments)},onChatEnd:function(e){if(t())return r.impl.onChatEnd.apply(r.impl,arguments)},bindUserOnline:function(e,n){if(t())return r.impl.bindUserOnline.apply(r.impl,arguments)},unbindUserOnline:function(e,n){if(t())return r.impl.unbindUserOnline.apply(r.impl,arguments)},bindGroupOnline:function(e,n){if(t())return r.impl.bindGroupOnline.apply(r.impl,arguments)},bindTyping:function(e,n){if(t())return r.impl.bindTyping.apply(r.impl,arguments)},unbindTyping:function(e,n){if(t())return r.impl.unbindTyping.apply(r.impl,arguments)},getUid:function(){if(t())return r.impl.getUid.apply(r.impl,arguments)},editMyName:function(e){if(t())return r.impl.editMyName.apply(r.impl,arguments)},editMyNick:function(e){if(t())return r.impl.editMyNick.apply(r.impl,arguments)},editMyAbout:function(e){if(t())return r.impl.editMyAbout.apply(r.impl,arguments)},getUserPeer:function(e){if(t())return r.impl.getUserPeer.apply(r.impl,arguments)},createGroup:function(e,n,i){if(t())return r.impl.createGroup.apply(r.impl,arguments)},bindGroupDialogs:function(e){if(t())return r.impl.bindGroupDialogs.apply(r.impl,arguments)},unbindGroupDialogs:function(e){if(t())return r.impl.unbindGroupDialogs.apply(r.impl,arguments)},getGroupPeer:function(e){if(t())return r.impl.getGroupPeer.apply(r.impl,arguments)},leaveGroup:function(e){if(t())return r.impl.leaveGroup.apply(r.impl,arguments)},inviteMember:function(e,n){if(t())return r.impl.inviteMember.apply(r.impl,arguments)},kickMember:function(e,n){if(t())return r.impl.kickMember.apply(r.impl,arguments)},bindGroup:function(e,n){if(t())return r.impl.bindGroup.apply(r.impl,arguments)},unbindGroup:function(e,n){if(t())return r.impl.unbindGroup.apply(r.impl,arguments)},bindConnectState:function(e){if(t())return r.impl.bindConnectState.apply(r.impl,arguments)},unbindConnectState:function(e){if(t())return r.impl.unbindConnectState.apply(r.impl,arguments)},changeNotificationsEnabled:function(e,n){if(t())return r.impl.changeNotificationsEnabled.apply(r.impl,arguments)},isNotificationsEnabled:function(e){if(t())return r.impl.isNotificationsEnabled.apply(r.impl,arguments)},isSendByEnterEnabled:function(){if(t())return r.impl.isSendByEnterEnabled.apply(r.impl,arguments)},changeSendByEnter:function(e){if(t())return r.impl.changeSendByEnter.apply(r.impl,arguments)},editGroupTitle:function(e,n){if(t())return r.impl.editGroupTitle.apply(r.impl,arguments)},editGroupAbout:function(e,n){if(t())return r.impl.editGroupAbout.apply(r.impl,arguments)},bindMessages:function(e,n){if(t())return r.impl.bindMessages.apply(r.impl,arguments)},bindChangeMyAvatar:function(e,n,i,s){if(t())return r.impl.bindChangeMyAvatar.apply(r.impl,arguments)},bindGlobalCounter:function(e){if(t())return r.impl.bindGlobalCounter.apply(r.impl,arguments)},unbindGlobalCounter:function(e){if(t())return r.impl.unbindGlobalCounter.apply(r.impl,arguments)},addLike:function(e,n){if(t())return r.impl.addLike.apply(r.impl,arguments)},removeLike:function(e,n){if(t())return r.impl.removeLike.apply(r.impl,arguments)},findAllText:function(e,n){if(t())return r.impl.findAllText.apply(r.impl,arguments)},findAllDocs:function(e,n){if(t())return r.impl.findAllDocs.apply(r.impl,arguments)},findAllLinks:function(e,n){if(t())return r.impl.findAllLinks.apply(r.impl,arguments)},findAllPhotos:function(e,n){if(t())return r.impl.findAllPhotos.apply(r.impl,arguments)},getPeer:function(e,n){if(t())return r.impl.getPeer.apply(r.impl,arguments)},getLikeMsgs:function(){if(t())return r.impl.getLikeMsgs.apply(r.impl,arguments)},getSearchText:function(){if(t())return r.impl.getSearchText.apply(r.impl,arguments)},getSearchDoc:function(){if(t())return r.impl.getSearchDoc.apply(r.impl,arguments)},createDeptDlg:function(){if(t())return r.impl.createDeptDlg.apply(r.impl,arguments)},onDialogsEnd:function(){if(t())return r.impl.onDialogsEnd.apply(r.impl,arguments)},findGroups:function(){if(t())return r.impl.findGroups.apply(r.impl,arguments)},notification:function(){if(t())return r.impl.notification.apply(r.impl,arguments)},setReady:function(){if(t())return r.impl.setReady.apply(r.impl,arguments)},onLoggedIn:function(){if(t())return r.impl.onLoggedIn.apply(r.impl,arguments)},updateClientState:function(e){if(t())return r.impl.updateClientState.apply(r.impl,arguments)},getCurrentInfo:function(){if(t())return r.impl.loadLoginDataByStore.apply(r.impl,arguments)},updateGroupShared:function(){if(t())return r.impl.updateGroupShared.apply(r.impl,arguments)},getOrgPersons:function(){if(t())return r.impl.getOrgPersons.apply(r.impl,arguments)},getOrgDepts:function(){if(t())return r.impl.getOrgDepts.apply(r.impl,arguments)},pushNotification:function(){if(t())return r.impl.pushNotification.apply(r.impl,arguments)},validateToken:function(){if(t())return r.impl.validateToken.apply(r.impl,arguments)},searchText:function(e,n,i,s){if(t())return r.impl.searchText.apply(r.impl,arguments)},searchFiles:function(e,n,i){if(t())return r.impl.searchFiles.apply(r.impl,arguments)},call:n};return r}),define("$model/chat/lib/utils",["require","../base/js/im"],function(e){var t=e("../base/js/im"),n=function(e){var n="",s;return e.peer.peer.type==="user"&&(s=t.getUser(e.peer.peer.id)),s&&s.isBot?n:(e.showSender?n=e.sender+"："+e.text:n=e.text==="Photo"?"图片":e.text==="Audio"?"语音":e.text,r(n)>32?i(n,32)+"...":n)},r=function(e){return e===null?0:(typeof e!="string"&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)},i=function(e,t){if(!e||!t)return"";var n=0,r=0,i="";for(r=0;r<e.length;r++){e.charCodeAt(r)>255?n+=2:n++;if(n>t)return i;i+=e.charAt(r)}return e},s=function(e){if(e=="Now")return"刚刚";if(e=="Yest")return"昨天";if(e.substr(e.length-3,3)=="min")return e.replace("min","分钟前").replace(" ","");if(e.substr(e.length-3,3)=="hrs")return e.replace("hrs","小时前").replace(" ","");var t=new Array("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SPT","OCT","NOV","DEC");for(var n=0;n<t.length;n++)if(e.substr(e.length-3,3)==t[n]){var r=n+1+"月";for(var i=0;i<e.length;i++){if(e.substr(i,1)==" ")break;r+=e.substr(i,1)}return r+"日"}return e},o=function(e,t,n){var r=e.getCount();if(r===0){var i=[];for(var s=0;s<t.length;s++){var o=n.call(this,t[s]);i.push(o)}e.loadData({rows:i});return}if(t.length===0){e.clear();return}for(var s=0;s<t.length;s++){var u=t[s],i=e.find(["fID"],[u.peer.peer.id]);if(i.length>0){var a=e.getRowIndex(i[0]);a!=s&&e.moveRowTo(e.datas.get()[a],e.datas.get()[s]),n.call(this,u,e.datas.get()[s])}else{var o=n.call(this,u);e.loadData([o],!0,null,s)}}for(var f=t.length-1;f<e.getCount();f++)e.datas.splice(t.length)};return{loadData:o,getDate:s,subCharString:i,getCharLength:r,getLatestChat:n}}),define("$model/chat/base/js/person",["require","$UI/system/lib/justep"],function(e){var t=e("$UI/system/lib/justep"),n=t.Object.extend({constructor:function(e){e&&(this.name=e.name,this.nick=e.nick,this.phones=e.phones,this.about=e.about,this.avatar=e.avatar,this.smallAvatar=e.smallAvatar||e.avatar,this.id=e.id,this.uid=e.uid)}});return n}),define("$model/chat/lib/electron-app",["require","jquery"],function(e){var t=e("jquery"),n=function(){return navigator.userAgent.indexOf("Electron")!=-1},r=function(e){},i=function(){},s=function(){};if(n()){var o=window.requireNode("electron").ipcRenderer;window.Notification=function(e,t){t=t||{},o.send("notification",JSON.stringify({title:e,body:t.body}))},Notification.permission="granted",Notification.requestPermission=function(e){if(!e){var n=t.Deferred();return n.resolve("granted"),n.promise()}e("granted")},i=function(e,t){o.send(e,JSON.stringify(t))},s=function(e,t){return o.sendSync(e,JSON.stringify(t))};var u=window.requireNode("electron").remote,a=u.Menu,f=a.buildFromTemplate([{label:"撤销",role:"undo"},{label:"重做",role:"redo"},{type:"separator"},{label:"剪切",role:"cut"},{label:"复制",role:"copy"},{label:"粘贴",role:"paste"},{type:"separator"},{label:"全选",role:"selectall"}]);document.body.addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation();var t=e.target;while(t){if(t.nodeName.match(/^(input|textarea)$/i)||t.isContentEditable){f.popup(u.getCurrentWindow());break}t=t.parentNode}})}return{sendMessage:i,sendSyncMessage:s,getIsInElectron:n,setIsInElectron:r}}),define("$model/chat/lib/superInput/superInput.config",["require"],function(e){return{properties:{dataType:"string",placeHolder:"string",pattern:"string",format:"string",min:"string",max:"string",maxLength:"integer",autoFocus:"boolean",autoComplete:"boolean",disabled:"boolean",readonly:"boolean",valueUpdateMode:"string"},events:["onSend","onStartRecVoice","onFinishRecVoice","onCancelRecVoice","onResize"],binds:{}}}),define("$model/chat/lib/superInput/js/twemoji.amd",[],function(){var e=function(){function a(e){return document.createTextNode(e)}function f(e){return e.replace(s,v)}function l(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function c(e,t){var n=e.childNodes,r=n.length,i,s;while(r--)i=n[r],s=i.nodeType,s===3?t.push(i):s===1&&!o.test(i.nodeName)&&c(i,t);return t}function h(e){return S(e.indexOf(i)<0?e.replace(r,""):e)}function p(e,t){var r=c(e,[]),i=r.length,s,o,u,f,l,p,d,v,m,g,y,b,w;while(i--){u=!1,f=document.createDocumentFragment(),l=r[i],p=l.nodeValue,v=0;while(d=n.exec(p)){m=d.index,m!==v&&f.appendChild(a(p.slice(v,m))),y=d[0],b=h(y),v=m+y.length,w=t.callback(b,t);if(w){g=document.createElement("div"),g.onerror=t.onerror,g.setAttribute("draggable","false"),s=t.attributes(y,b);for(o in s)s.hasOwnProperty(o)&&o.indexOf("on")!==0&&!g.hasAttribute(o)&&g.setAttribute(o,s[o]);g.className=g.className+t.className+" x-superinput-emoji-sprite x-superinput-sprite-"+b,g.setAttribute("image-alt",y),g.setAttribute("image-src",w),u=!0,f.appendChild(g)}g||f.appendChild(a(y)),g=null}u&&(v<p.length&&f.appendChild(a(p.slice(v))),l.parentNode.replaceChild(f,l))}return e}function d(e,t){return w(e,function(e){var n=e,r=h(e),i=t.callback(r,t),s,o;if(i){n="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',i,'"'),s=t.attributes(e,r);for(o in s)s.hasOwnProperty(o)&&o.indexOf("on")!==0&&n.indexOf(" "+o+"=")===-1&&(n=n.concat(" ",o,'="',f(s[o]),'"'));n=n.concat(">")}return n})}function v(e){return t[e]}function m(){return null}function g(e){return typeof e=="number"?e+"x"+e:e}function y(e){var t=typeof e=="string"?parseInt(e,16):e;return t<65536?u(t):(t-=65536,u(55296+(t>>10),56320+(t&1023)))}function b(t,n){if(!n||typeof n=="function")n={callback:n};return(typeof t=="string"?d:p)(t,{callback:n.callback||l,attributes:typeof n.attributes=="function"?n.attributes:m,base:typeof n.base=="string"?n.base:e.base,ext:n.ext||e.ext,size:n.folder||g(n.size||e.size),className:n.className||e.className,onerror:n.onerror||e.onerror})}function w(e,t){return String(e).replace(n,t)}function E(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}function S(e,t){var n=[],r=0,i=0,s=0;while(s<e.length)r=e.charCodeAt(s++),i?(n.push((65536+(i-55296<<10)+(r-56320)).toString(16)),i=0):55296<=r&&r<=56319?i=r:n.push(r.toString(16));return n.join(t||"-")}var e={base:"https://twemoji.maxcdn.com/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:y,toCodePoint:S},onerror:function(){this.parentNode&&this.parentNode.replaceChild(a(this.alt),this)},parse:b,replace:w,test:E},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:[\u0039\u0038\u0037\u0036\u0035\u0034\u0033\u0032\u0031\u0030\u0023])\ufe0f?\u20e3|\ud83c\udde8\ud83c\uddf3|\ud83c\udde9\ud83c\uddea|\ud83c\uddea\ud83c\uddf8|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddec\ud83c\udde7|\ud83c\uddee\ud83c\uddf9|\ud83c\uddef\ud83c\uddf5|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddfa\ud83c\uddf8|\ud83d[\udc00-\udc3e\udc40\udc42-\udcf7\udcf9-\udcfc\udd00-\udd3d\udd50-\udd67\uddfb-\ude42\ude45-\ude4f\ude80-\udec5]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf30-\udf35\udf37-\udf7c\udf80-\udf93\udfa0-\udfc4\udfc6-\udfca\udfe0-\udff0]|[\ue50a\u27bf\u27b0\u2797\u2796\u2795\u2755\u2754\u2753\u274e\u274c\u2728\u270b\u270a\u2705\u26ce\u23f3\u23f0\u23ec\u23eb\u23ea\u23e9]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37]|[\u3299\u3297\u303d\u3030\u2b55\u2b50\u2b1c\u2b1b\u2b07\u2b06\u2b05\u2935\u2934\u27a1\u2764\u2757\u2747\u2744\u2734\u2733\u2716\u2714\u2712\u270f\u270c\u2709\u2708\u2702\u26fd\u26fa\u26f5\u26f3\u26f2\u26ea\u26d4\u26c5\u26c4\u26be\u26bd\u26ab\u26aa\u26a1\u26a0\u2693\u267f\u267b\u2668\u2666\u2665\u2663\u2660\u2653\u2652\u2651\u2650\u264f\u264e\u264d\u264c\u264b\u264a\u2649\u2648\u263a\u261d\u2615\u2614\u2611\u260e\u2601\u2600\u25fe\u25fd\u25fc\u25fb\u25c0\u25b6\u25ab\u25aa\u24c2\u231b\u231a\u21aa\u21a9\u2199\u2198\u2197\u2196\u2195\u2194\u2139\u2122\u2049\u203c\u00ae\u00a9])(?:\ufe0f|(?!\ufe0e))/g,r=/\uFE0F/g,i=String.fromCharCode(8205),s=/[&<>'"]/g,o=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,u=String.fromCharCode;return e}();return e}),define("$model/chat/lib/superInput/js/emoji",["require"],function(e){var t=[{name:"smile",value:"&#x1f604",category:"人"},{name:"smiley",value:"&#x1f603",category:"人"},{name:"grinning",value:"&#x1f600",category:"人"},{name:"blush",value:"&#x1f60a",category:"人"},{name:"relaxed",value:"&#x263a",category:"人"},{name:"wink",value:"&#x1f609",category:"人"},{name:"heart-eyes",value:"&#x1f60d",category:"人"},{name:"kissing-heart",value:"&#x1f618",category:"人"},{name:"kissing-closed-eyes",value:"&#x1f61a",category:"人"},{name:"kissing",value:"&#x1f617",category:"人"},{name:"kissing-smiling-eyes",value:"&#x1f619",category:"人"},{name:"stuck-out-tongue-winking-eye",value:"&#x1f61c",category:"人"},{name:"stuck-out-tongue-closed-eyes",value:"&#x1f61d",category:"人"},{name:"stuck-out-tongue",value:"&#x1f61b",category:"人"},{name:"flushed",value:"&#x1f633",category:"人"},{name:"grin",value:"&#x1f601",category:"人"},{name:"pensive",value:"&#x1f614",category:"人"},{name:"satisfied",value:"&#x1f60c",category:"人"},{name:"unamused",value:"&#x1f612",category:"人"},{name:"disappointed",value:"&#x1f61e",category:"人"},{name:"persevere",value:"&#x1f623",category:"人"},{name:"cry",value:"&#x1f622",category:"人"},{name:"joy",value:"&#x1f602",category:"人"},{name:"sob",value:"&#x1f62d",category:"人"},{name:"sleepy",value:"&#x1f62a",category:"人"},{name:"relieved",value:"&#x1f625",category:"人"},{name:"cold-sweat",value:"&#x1f630",category:"人"},{name:"sweat-smile",value:"&#x1f605",category:"人"},{name:"sweat",value:"&#x1f613",category:"人"},{name:"weary",value:"&#x1f629",category:"人"},{name:"tired-face",value:"&#x1f62b",category:"人"},{name:"fearful",value:"&#x1f628",category:"人"},{name:"scream",value:"&#x1f631",category:"人"},{name:"angry",value:"&#x1f620",category:"人"},{name:"rage",value:"&#x1f621",category:"人"},{name:"triumph",value:"&#x1f624",category:"人"},{name:"confounded",value:"&#x1f616",category:"人"},{name:"laughing",value:"&#x1f606",category:"人"},{name:"yum",value:"&#x1f60b",category:"人"},{name:"mask",value:"&#x1f637",category:"人"},{name:"sunglasses",value:"&#x1f60e",category:"人"},{name:"sleeping",value:"&#x1f634",category:"人"},{name:"dizzy-face",value:"&#x1f635",category:"人"},{name:"astonished",value:"&#x1f632",category:"人"},{name:"worried",value:"&#x1f61f",category:"人"},{name:"frowning",value:"&#x1f626",category:"人"},{name:"anguished",value:"&#x1f627",category:"人"},{name:"smiling-imp",value:"&#x1f608",category:"人"},{name:"imp",value:"&#x1f47f",category:"人"},{name:"open-mouth",value:"&#x1f62e",category:"人"},{name:"grimacing",value:"&#x1f62c",category:"人"},{name:"neutral-face",value:"&#x1f610",category:"人"},{name:"confused",value:"&#x1f615",category:"人"},{name:"hushed",value:"&#x1f62f",category:"人"},{name:"no-mouth",value:"&#x1f636",category:"人"},{name:"innocent",value:"&#x1f607",category:"人"},{name:"smirk",value:"&#x1f60f",category:"人"},{name:"expressionless",value:"&#x1f611",category:"人"},{name:"man-with-gua-pi-mao",value:"&#x1f472",category:"人"},{name:"man-with-turban",value:"&#x1f473",category:"人"},{name:"cop",value:"&#x1f46e",category:"人"},{name:"construction-worker",value:"&#x1f477",category:"人"},{name:"guardsman",value:"&#x1f482",category:"人"},{name:"baby",value:"&#x1f476",category:"人"},{name:"boy",value:"&#x1f466",category:"人"},{name:"girl",value:"&#x1f467",category:"人"},{name:"man",value:"&#x1f468",category:"人"},{name:"woman",value:"&#x1f469",category:"人"},{name:"older-man",value:"&#x1f474",category:"人"},{name:"older-woman",value:"&#x1f475",category:"人"},{name:"person-with-blond-hair",value:"&#x1f471",category:"人"},{name:"angel",value:"&#x1f47c",category:"人"},{name:"princess",value:"&#x1f478",category:"人"},{name:"smiley-cat",value:"&#x1f63a",category:"人"},{name:"smile-cat",value:"&#x1f638",category:"人"},{name:"heart-eyes-cat",value:"&#x1f63b",category:"人"},{name:"kissing-cat",value:"&#x1f63d",category:"人"},{name:"smirk-cat",value:"&#x1f63c",category:"人"},{name:"scream-cat",value:"&#x1f640",category:"人"},{name:"crying-cat-face",value:"&#x1f63f",category:"人"},{name:"joy-cat",value:"&#x1f639",category:"人"},{name:"pouting-cat",value:"&#x1f63e",category:"人"},{name:"japanese-ogre",value:"&#x1f479",category:"人"},{name:"japanese-goblin",value:"&#x1f47a",category:"人"},{name:"see-no-evil",value:"&#x1f648",category:"人"},{name:"hear-no-evil",value:"&#x1f649",category:"人"},{name:"speak-no-evil",value:"&#x1f64a",category:"人"},{name:"skull",value:"&#x1f480",category:"人"},{name:"alien",value:"&#x1f47d",category:"人"},{name:"poop",value:"&#x1f4a9",category:"人"},{name:"fire",value:"&#x1f525",category:"人"},{name:"sparkles",value:"&#x2728",category:"人"},{name:"star2",value:"&#x1f31f",category:"人"},{name:"dizzy",value:"&#x1f4ab",category:"人"},{name:"boom",value:"&#x1f4a5",category:"人"},{name:"anger",value:"&#x1f4a2",category:"人"},{name:"sweat-drops",value:"&#x1f4a6",category:"人"},{name:"droplet",value:"&#x1f4a7",category:"人"},{name:"zzz",value:"&#x1f4a4",category:"人"},{name:"dash",value:"&#x1f4a8",category:"人"},{name:"ear",value:"&#x1f442",category:"人"},{name:"eyes",value:"&#x1f440",category:"人"},{name:"nose",value:"&#x1f443",category:"人"},{name:"tongue",value:"&#x1f445",category:"人"},{name:"lips",value:"&#x1f444",category:"人"},{name:"thumbsup",value:"&#x1f44d",category:"人"},{name:"thumbsdown",value:"&#x1f44e",category:"人"},{name:"ok-hand",value:"&#x1f44c",category:"人"},{name:"punch",value:"&#x1f44a",category:"人"},{name:"fist",value:"&#x270a",category:"人"},{name:"v",value:"&#x270c",category:"人"},{name:"wave",value:"&#x1f44b",category:"人"},{name:"hand",value:"&#x270b",category:"人"},{name:"open-hands",value:"&#x1f450",category:"人"},{name:"point-up-2",value:"&#x1f446",category:"人"},{name:"point-down",value:"&#x1f447",category:"人"},{name:"point-right",value:"&#x1f449",category:"人"},{name:"point-left",value:"&#x1f448",category:"人"},{name:"raised-hands",value:"&#x1f64c",category:"人"},{name:"pray",value:"&#x1f64f",category:"人"},{name:"point-up",value:"&#x261d",category:"人"},{name:"clap",value:"&#x1f44f",category:"人"},{name:"muscle",value:"&#x1f4aa",category:"人"},{name:"walking",value:"&#x1f6b6",category:"人"},{name:"runner",value:"&#x1f3c3",category:"人"},{name:"dancer",value:"&#x1f483",category:"人"},{name:"couple",value:"&#x1f46b",category:"人"},{name:"family",value:"&#x1f46a",category:"人"},{name:"two-men-holding-hands",value:"&#x1f46c",category:"人"},{name:"two-women-holding-hands",value:"&#x1f46d",category:"人"},{name:"couplekiss",value:"&#x1f48f",category:"人"},{name:"couple-with-heart",value:"&#x1f491",category:"人"},{name:"dancers",value:"&#x1f46f",category:"人"},{name:"ok-woman",value:"&#x1f646",category:"人"},{name:"no-good",value:"&#x1f645",category:"人"},{name:"information-desk-person",value:"&#x1f481",category:"人"},{name:"raised-hand",value:"&#x1f64b",category:"人"},{name:"massage",value:"&#x1f486",category:"人"},{name:"haircut",value:"&#x1f487",category:"人"},{name:"nail-care",value:"&#x1f485",category:"人"},{name:"bride-with-veil",value:"&#x1f470",category:"人"},{name:"person-with-pouting-face",value:"&#x1f64e",category:"人"},{name:"person-frowning",value:"&#x1f64d",category:"人"},{name:"bow",value:"&#x1f647",category:"人"},{name:"tophat",value:"&#x1f3a9",category:"人"},{name:"crown",value:"&#x1f451",category:"人"},{name:"womans-hat",value:"&#x1f452",category:"人"},{name:"athletic-shoe",value:"&#x1f45f",category:"人"},{name:"mans-shoe",value:"&#x1f45e",category:"人"},{name:"sandal",value:"&#x1f461",category:"人"},{name:"high-heel",value:"&#x1f460",category:"人"},{name:"boot",value:"&#x1f462",category:"人"},{name:"shirt",value:"&#x1f455",category:"人"},{name:"necktie",value:"&#x1f454",category:"人"},{name:"womans-clothes",value:"&#x1f45a",category:"人"},{name:"dress",value:"&#x1f457",category:"人"},{name:"running-shirt-with-sash",value:"&#x1f3bd",category:"人"},{name:"jeans",value:"&#x1f456",category:"人"},{name:"kimono",value:"&#x1f458",category:"人"},{name:"bikini",value:"&#x1f459",category:"人"},{name:"briefcase",value:"&#x1f4bc",category:"人"},{name:"handbag",value:"&#x1f45c",category:"人"},{name:"pouch",value:"&#x1f45d",category:"人"},{name:"purse",value:"&#x1f45b",category:"人"},{name:"eyeglasses",value:"&#x1f453",category:"人"},{name:"ribbon",value:"&#x1f380",category:"人"},{name:"closed-umbrella",value:"&#x1f302",category:"人"},{name:"lipstick",value:"&#x1f484",category:"人"},{name:"yellow-heart",value:"&#x1f49b",category:"人"},{name:"blue-heart",value:"&#x1f499",category:"人"},{name:"purple-heart",value:"&#x1f49c",category:"人"},{name:"green-heart",value:"&#x1f49a",category:"人"},{name:"heart",value:"&#x2764",category:"人"},{name:"broken-heart",value:"&#x1f494",category:"人"},{name:"heartpulse",value:"&#x1f497",category:"人"},{name:"heartbeat",value:"&#x1f493",category:"人"},{name:"two-hearts",value:"&#x1f495",category:"人"},{name:"sparkling-heart",value:"&#x1f496",category:"人"},{name:"revolving-hearts",value:"&#x1f49e",category:"人"},{name:"love-letter",value:"&#x1f48c",category:"人"},{name:"cupid",value:"&#x1f498",category:"人"},{name:"kiss",value:"&#x1f48b",category:"人"},{name:"ring",value:"&#x1f48d",category:"人"},{name:"gem",value:"&#x1f48e",category:"人"},{name:"bust-in-silhouette",value:"&#x1f464",category:"人"},{name:"busts-in-silhouette",value:"&#x1f465",category:"人"},{name:"speech-balloon",value:"&#x1f4ac",category:"人"},{name:"feet",value:"&#x1f463",category:"人"},{name:"thought-balloon",value:"&#x1f4ad",category:"人"},{name:"dog",value:"&#x1f436",category:"自然"},{name:"wolf",value:"&#x1f43a",category:"自然"},{name:"cat",value:"&#x1f431",category:"自然"},{name:"mouse",value:"&#x1f42d",category:"自然"},{name:"hamster",value:"&#x1f439",category:"自然"},{name:"rabbit",value:"&#x1f430",category:"自然"},{name:"frog",value:"&#x1f438",category:"自然"},{name:"tiger",value:"&#x1f42f",category:"自然"},{name:"koala",value:"&#x1f428",category:"自然"},{name:"bear",value:"&#x1f43b",category:"自然"},{name:"pig",value:"&#x1f437",category:"自然"},{name:"pig-nose",value:"&#x1f43d",category:"自然"},{name:"cow",value:"&#x1f42e",category:"自然"},{name:"boar",value:"&#x1f417",category:"自然"},{name:"monkey-face",value:"&#x1f435",category:"自然"},{name:"monkey",value:"&#x1f412",category:"自然"},{name:"horse",value:"&#x1f434",category:"自然"},{name:"sheep",value:"&#x1f411",category:"自然"},{name:"elephant",value:"&#x1f418",category:"自然"},{name:"panda-face",value:"&#x1f43c",category:"自然"},{name:"penguin",value:"&#x1f427",category:"自然"},{name:"bird",value:"&#x1f426",category:"自然"},{name:"baby-chick",value:"&#x1f424",category:"自然"},{name:"hatched-chick",value:"&#x1f425",category:"自然"},{name:"hatching-chick",value:"&#x1f423",category:"自然"},{name:"chicken",value:"&#x1f414",category:"自然"},{name:"snake",value:"&#x1f40d",category:"自然"},{name:"turtle",value:"&#x1f422",category:"自然"},{name:"bug",value:"&#x1f41b",category:"自然"},{name:"honeybee",value:"&#x1f41d",category:"自然"},{name:"ant",value:"&#x1f41c",category:"自然"},{name:"beetle",value:"&#x1f41e",category:"自然"},{name:"snail",value:"&#x1f40c",category:"自然"},{name:"octopus",value:"&#x1f419",category:"自然"},{name:"shell",value:"&#x1f41a",category:"自然"},{name:"tropical-fish",value:"&#x1f420",category:"自然"},{name:"fish",value:"&#x1f41f",category:"自然"},{name:"dolphin",value:"&#x1f42c",category:"自然"},{name:"whale",value:"&#x1f433",category:"自然"},{name:"whale2",value:"&#x1f40b",category:"自然"},{name:"cow2",value:"&#x1f404",category:"自然"},{name:"ram",value:"&#x1f40f",category:"自然"},{name:"rat",value:"&#x1f400",category:"自然"},{name:"water-buffalo",value:"&#x1f403",category:"自然"},{name:"tiger2",value:"&#x1f405",category:"自然"},{name:"rabbit2",value:"&#x1f407",category:"自然"},{name:"dragon",value:"&#x1f409",category:"自然"},{name:"racehorse",value:"&#x1f40e",category:"自然"},{name:"goat",value:"&#x1f410",category:"自然"},{name:"rooster",value:"&#x1f413",category:"自然"},{name:"dog2",value:"&#x1f415",category:"自然"},{name:"pig2",value:"&#x1f416",category:"自然"},{name:"mouse2",value:"&#x1f401",category:"自然"},{name:"ox",value:"&#x1f402",category:"自然"},{name:"dragon-face",value:"&#x1f432",category:"自然"},{name:"blowfish",value:"&#x1f421",category:"自然"},{name:"crocodile",value:"&#x1f40a",category:"自然"},{name:"camel",value:"&#x1f42b",category:"自然"},{name:"dromedary-camel",value:"&#x1f42a",category:"自然"},{name:"leopard",value:"&#x1f406",category:"自然"},{name:"cat2",value:"&#x1f408",category:"自然"},{name:"poodle",value:"&#x1f429",category:"自然"},{name:"paw-prints",value:"&#x1f43e",category:"自然"},{name:"bouquet",value:"&#x1f490",category:"自然"},{name:"cherry-blossom",value:"&#x1f338",category:"自然"},{name:"tulip",value:"&#x1f337",category:"自然"},{name:"four-leaf-clover",value:"&#x1f340",category:"自然"},{name:"rose",value:"&#x1f339",category:"自然"},{name:"sunflower",value:"&#x1f33b",category:"自然"},{name:"hibiscus",value:"&#x1f33a",category:"自然"},{name:"maple-leaf",value:"&#x1f341",category:"自然"},{name:"leaves",value:"&#x1f343",category:"自然"},{name:"fallen-leaf",value:"&#x1f342",category:"自然"},{name:"herb",value:"&#x1f33f",category:"自然"},{name:"ear-of-rice",value:"&#x1f33e",category:"自然"},{name:"mushroom",value:"&#x1f344",category:"自然"},{name:"cactus",value:"&#x1f335",category:"自然"},{name:"palm-tree",value:"&#x1f334",category:"自然"},{name:"evergreen-tree",value:"&#x1f332",category:"自然"},{name:"deciduous-tree",value:"&#x1f333",category:"自然"},{name:"chestnut",value:"&#x1f330",category:"自然"},{name:"seedling",value:"&#x1f331",category:"自然"},{name:"blossom",value:"&#x1f33c",category:"自然"},{name:"globe-with-meridians",value:"&#x1f310",category:"自然"},{name:"sun-with-face",value:"&#x1f31e",category:"自然"},{name:"full-moon-with-face",value:"&#x1f31d",category:"自然"},{name:"new-moon-with-face",value:"&#x1f31a",category:"自然"},{name:"new-moon",value:"&#x1f311",category:"自然"},{name:"waxing-crescent-moon",value:"&#x1f312",category:"自然"},{name:"first-quarter-moon",value:"&#x1f313",category:"自然"},{name:"waxing-gibbous-moon",value:"&#x1f314",category:"自然"},{name:"full-moon",value:"&#x1f315",category:"自然"},{name:"waning-gibbous-moon",value:"&#x1f316",category:"自然"},{name:"last-quarter-moon",value:"&#x1f317",category:"自然"},{name:"waning-crescent-moon",value:"&#x1f318",category:"自然"},{name:"last-quarter-moon-with-face",value:"&#x1f31c",category:"自然"},{name:"first-quarter-moon-with-face",value:"&#x1f31b",category:"自然"},{name:"moon",value:"&#x1f319",category:"自然"},{name:"earth-africa",value:"&#x1f30d",category:"自然"},{name:"earth-americas",value:"&#x1f30e",category:"自然"},{name:"earth-asia",value:"&#x1f30f",category:"自然"},{name:"volcano",value:"&#x1f30b",category:"自然"},{name:"milky-way",value:"&#x1f30c",category:"自然"},{name:"shooting-star",value:"&#x1f320",category:"自然"},{name:"star",value:"&#x2b50",category:"自然"},{name:"sunny",value:"&#x2600",category:"自然"},{name:"partly-sunny",value:"&#x26c5",category:"自然"},{name:"cloud",value:"&#x2601",category:"自然"},{name:"zap",value:"&#x26a1",category:"自然"},{name:"umbrella",value:"&#x2614",category:"自然"},{name:"snowflake",value:"&#x2744",category:"自然"},{name:"snowman",value:"&#x26c4",category:"自然"},{name:"cyclone",value:"&#x1f300",category:"自然"},{name:"foggy",value:"&#x1f301",category:"自然"},{name:"rainbow",value:"&#x1f308",category:"自然"},{name:"ocean",value:"&#x1f30a",category:"自然"},{name:"bamboo",value:"&#x1f38d",category:"物体"},{name:"gift-heart",value:"&#x1f49d",category:"物体"},{name:"dolls",value:"&#x1f38e",category:"物体"},{name:"school-satchel",value:"&#x1f392",category:"物体"},{name:"mortar-board",value:"&#x1f393",category:"物体"},{name:"flags",value:"&#x1f38f",category:"物体"},{name:"fireworks",value:"&#x1f386",category:"物体"},{name:"sparkler",value:"&#x1f387",category:"物体"},{name:"wind-chime",value:"&#x1f390",category:"物体"},{name:"rice-scene",value:"&#x1f391",category:"物体"},{name:"jack-o-lantern",value:"&#x1f383",category:"物体"},{name:"ghost",value:"&#x1f47b",category:"物体"},{name:"santa",value:"&#x1f385",category:"物体"},{name:"christmas-tree",value:"&#x1f384",category:"物体"},{name:"gift",value:"&#x1f381",category:"物体"},{name:"tanabata-tree",value:"&#x1f38b",category:"物体"},{name:"tada",value:"&#x1f389",category:"物体"},{name:"confetti-ball",value:"&#x1f38a",category:"物体"},{name:"balloon",value:"&#x1f388",category:"物体"},{name:"crossed-flags",value:"&#x1f38c",category:"物体"},{name:"crystal-ball",value:"&#x1f52e",category:"物体"},{name:"movie-camera",value:"&#x1f3a5",category:"物体"},{name:"camera",value:"&#x1f4f7",category:"物体"},{name:"video-camera",value:"&#x1f4f9",category:"物体"},{name:"vhs",value:"&#x1f4fc",category:"物体"},{name:"cd",value:"&#x1f4bf",category:"物体"},{name:"dvd",value:"&#x1f4c0",category:"物体"},{name:"minidisc",value:"&#x1f4bd",category:"物体"},{name:"floppy-disk",value:"&#x1f4be",category:"物体"},{name:"computer",value:"&#x1f4bb",category:"物体"},{name:"iphone",value:"&#x1f4f1",category:"物体"},{name:"phone",value:"&#x260e",category:"物体"},{name:"telephone-receiver",value:"&#x1f4de",category:"物体"},{name:"pager",value:"&#x1f4df",category:"物体"},{name:"fax",value:"&#x1f4e0",category:"物体"},{name:"satellite",value:"&#x1f4e1",category:"物体"},{name:"tv",value:"&#x1f4fa",category:"物体"},{name:"radio",value:"&#x1f4fb",category:"物体"},{name:"speaker-waves",value:"&#x1f50a",category:"物体"},{name:"sound",value:"&#x1f509",category:"物体"},{name:"speaker",value:"&#x1f508",category:"物体"},{name:"mute",value:"&#x1f507",category:"物体"},{name:"bell",value:"&#x1f514",category:"物体"},{name:"no-bell",value:"&#x1f515",category:"物体"},{name:"loudspeaker",value:"&#x1f4e2",category:"物体"},{name:"mega",value:"&#x1f4e3",category:"物体"},{name:"hourglass-flowing-sand",value:"&#x23f3",category:"物体"},{name:"hourglass",value:"&#x231b",category:"物体"},{name:"alarm-clock",value:"&#x23f0",category:"物体"},{name:"watch",value:"&#x231a",category:"物体"},{name:"unlock",value:"&#x1f513",category:"物体"},{name:"lock",value:"&#x1f512",category:"物体"},{name:"lock-with-ink-pen",value:"&#x1f50f",category:"物体"},{name:"closed-lock-with-key",value:"&#x1f510",category:"物体"},{name:"key",value:"&#x1f511",category:"物体"},{name:"mag-right",value:"&#x1f50e",category:"物体"},{name:"bulb",value:"&#x1f4a1",category:"物体"},{name:"flashlight",value:"&#x1f526",category:"物体"},{name:"high-brightness",value:"&#x1f506",category:"物体"},{name:"low-brightness",value:"&#x1f505",category:"物体"},{name:"electric-plug",value:"&#x1f50c",category:"物体"},{name:"battery",value:"&#x1f50b",category:"物体"},{name:"mag",value:"&#x1f50d",category:"物体"},{name:"bathtub",value:"&#x1f6c1",category:"物体"},{name:"bath",value:"&#x1f6c0",category:"物体"},{name:"shower",value:"&#x1f6bf",category:"物体"},{name:"toilet",value:"&#x1f6bd",category:"物体"},{name:"wrench",value:"&#x1f527",category:"物体"},{name:"nut-and-bolt",value:"&#x1f529",category:"物体"},{name:"hammer",value:"&#x1f528",category:"物体"},{name:"door",value:"&#x1f6aa",category:"物体"},{name:"smoking",value:"&#x1f6ac",category:"物体"},{name:"bomb",value:"&#x1f4a3",category:"物体"},{name:"gun",value:"&#x1f52b",category:"物体"},{name:"hocho",value:"&#x1f52a",category:"物体"},{name:"pill",value:"&#x1f48a",category:"物体"},{name:"syringe",value:"&#x1f489",category:"物体"},{name:"moneybag",value:"&#x1f4b0",category:"物体"},{name:"yen",value:"&#x1f4b4",category:"物体"},{name:"dollar",value:"&#x1f4b5",category:"物体"},{name:"pound",value:"&#x1f4b7",category:"物体"},{name:"euro",value:"&#x1f4b6",category:"物体"},{name:"credit-card",value:"&#x1f4b3",category:"物体"},{name:"money-with-wings",value:"&#x1f4b8",category:"物体"},{name:"calling",value:"&#x1f4f2",category:"物体"},{name:"e-mail",value:"&#x1f4e7",category:"物体"},{name:"inbox-tray",value:"&#x1f4e5",category:"物体"},{name:"outbox-tray",value:"&#x1f4e4",category:"物体"},{name:"email",value:"&#x2709",category:"物体"},{name:"enveloppe",value:"&#x1f4e9",category:"物体"},{name:"incoming-envelope",value:"&#x1f4e8",category:"物体"},{name:"postal-horn",value:"&#x1f4ef",category:"物体"},{name:"mailbox",value:"&#x1f4eb",category:"物体"},{name:"mailbox-closed",value:"&#x1f4ea",category:"物体"},{name:"mailbox-with-mail",value:"&#x1f4ec",category:"物体"},{name:"mailbox-with-no-mail",value:"&#x1f4ed",category:"物体"},{name:"postbox",value:"&#x1f4ee",category:"物体"},{name:"package",value:"&#x1f4e6",category:"物体"},{name:"memo",value:"&#x1f4dd",category:"物体"},{name:"page-facing-up",value:"&#x1f4c4",category:"物体"},{name:"page-with-curl",value:"&#x1f4c3",category:"物体"},{name:"bookmark-tabs",value:"&#x1f4d1",category:"物体"},{name:"bar-chart",value:"&#x1f4ca",category:"物体"},{name:"chart-with-upwards-trend",value:"&#x1f4c8",category:"物体"},{name:"chart-with-downwards-trend",value:"&#x1f4c9",category:"物体"},{name:"scroll",value:"&#x1f4dc",category:"物体"},{name:"clipboard",value:"&#x1f4cb",category:"物体"},{name:"date",value:"&#x1f4c5",category:"物体"},{name:"calendar",value:"&#x1f4c6",category:"物体"},{name:"card-index",value:"&#x1f4c7",category:"物体"},{name:"file-folder",value:"&#x1f4c1",category:"物体"},{name:"open-file-folder",value:"&#x1f4c2",category:"物体"},{name:"scissors",value:"&#x2702",category:"物体"},{name:"pushpin",value:"&#x1f4cc",category:"物体"},{name:"paperclip",value:"&#x1f4ce",category:"物体"},{name:"black-nib",value:"&#x2712",category:"物体"},{name:"pencil2",value:"&#x270f",category:"物体"},{name:"straight-ruler",value:"&#x1f4cf",category:"物体"},{name:"triangular-ruler",value:"&#x1f4d0",category:"物体"},{name:"closed-book",value:"&#x1f4d5",category:"物体"},{name:"green-book",value:"&#x1f4d7",category:"物体"},{name:"blue-book",value:"&#x1f4d8",category:"物体"},{name:"orange-book",value:"&#x1f4d9",category:"物体"},{name:"notebook",value:"&#x1f4d3",category:"物体"},{name:"notebook-with-decorative-cover",value:"&#x1f4d4",category:"物体"},{name:"ledger",value:"&#x1f4d2",category:"物体"},{name:"books",value:"&#x1f4da",category:"物体"},{name:"open-book",value:"&#x1f4d6",category:"物体"},{name:"bookmark",value:"&#x1f516",category:"物体"},{name:"name-badge",value:"&#x1f4db",category:"物体"},{name:"microscope",value:"&#x1f52c",category:"物体"},{name:"telescope",value:"&#x1f52d",category:"物体"},{name:"newspaper",value:"&#x1f4f0",category:"物体"},{name:"art",value:"&#x1f3a8",category:"物体"},{name:"clapper",value:"&#x1f3ac",category:"物体"},{name:"microphone",value:"&#x1f3a4",category:"物体"},{name:"headphones",value:"&#x1f3a7",category:"物体"},{name:"musical-score",value:"&#x1f3bc",category:"物体"},{name:"musical-note",value:"&#x1f3b5",category:"物体"},{name:"notes",value:"&#x1f3b6",category:"物体"},{name:"musical-keyboard",value:"&#x1f3b9",category:"物体"},{name:"violin",value:"&#x1f3bb",category:"物体"},{name:"trumpet",value:"&#x1f3ba",category:"物体"},{name:"saxophone",value:"&#x1f3b7",category:"物体"},{name:"guitar",value:"&#x1f3b8",category:"物体"},{name:"space-invader",value:"&#x1f47e",category:"物体"},{name:"video-game",value:"&#x1f3ae",category:"物体"},{name:"black-joker",value:"&#x1f0cf",category:"物体"},{name:"flower-playing-cards",value:"&#x1f3b4",category:"物体"},{name:"mahjong",value:"&#x1f004",category:"物体"},{name:"game-die",value:"&#x1f3b2",category:"物体"},{name:"dart",value:"&#x1f3af",category:"物体"},{name:"football",value:"&#x1f3c8",category:"物体"},{name:"basketball",value:"&#x1f3c0",category:"物体"},{name:"soccer",value:"&#x26bd",category:"物体"},{name:"baseball",value:"&#x26be",category:"物体"},{name:"tennis",value:"&#x1f3be",category:"物体"},{name:"8ball",value:"&#x1f3b1",category:"物体"},{name:"rugby-football",value:"&#x1f3c9",category:"物体"},{name:"bowling",value:"&#x1f3b3",category:"物体"},{name:"golf",value:"&#x26f3",category:"物体"},{name:"mountain-bicyclist",value:"&#x1f6b5",category:"物体"},{name:"bicyclist",value:"&#x1f6b4",category:"物体"},{name:"checkered-flag",value:"&#x1f3c1",category:"物体"},{name:"horse-racing",value:"&#x1f3c7",category:"物体"},{name:"trophy",value:"&#x1f3c6",category:"物体"},{name:"ski",value:"&#x1f3bf",category:"物体"},{name:"snowboarder",value:"&#x1f3c2",category:"物体"},{name:"swimmer",value:"&#x1f3ca",category:"物体"},{name:"surfer",value:"&#x1f3c4",category:"物体"},{name:"fishing-pole-and-fish",value:"&#x1f3a3",category:"物体"},{name:"coffee",value:"&#x2615",category:"物体"},{name:"tea",value:"&#x1f375",category:"物体"},{name:"sake",value:"&#x1f376",category:"物体"},{name:"baby-bottle",value:"&#x1f37c",category:"物体"},{name:"beer",value:"&#x1f37a",category:"物体"},{name:"beers",value:"&#x1f37b",category:"物体"},{name:"cocktail",value:"&#x1f378",category:"物体"},{name:"tropical-drink",value:"&#x1f379",category:"物体"},{name:"wine-glass",value:"&#x1f377",category:"物体"},{name:"fork-and-knife",value:"&#x1f374",category:"物体"},{name:"pizza",value:"&#x1f355",category:"物体"},{name:"hamburger",value:"&#x1f354",category:"物体"},{name:"fries",value:"&#x1f35f",category:"物体"},{name:"poultry-leg",value:"&#x1f357",category:"物体"},{name:"meat-on-bone",value:"&#x1f356",category:"物体"},{name:"spaghetti",value:"&#x1f35d",category:"物体"},{name:"curry",value:"&#x1f35b",category:"物体"},{name:"fried-shrimp",value:"&#x1f364",category:"物体"},{name:"bento",value:"&#x1f371",category:"物体"},{name:"sushi",value:"&#x1f363",category:"物体"},{name:"fish-cake",value:"&#x1f365",category:"物体"},{name:"rice-ball",value:"&#x1f359",category:"物体"},{name:"rice-cracker",value:"&#x1f358",category:"物体"},{name:"rice",value:"&#x1f35a",category:"物体"},{name:"ramen",value:"&#x1f35c",category:"物体"},{name:"stew",value:"&#x1f372",category:"物体"},{name:"oden",value:"&#x1f362",category:"物体"},{name:"dango",value:"&#x1f361",category:"物体"},{name:"egg",value:"&#x1f373",category:"物体"},{name:"bread",value:"&#x1f35e",category:"物体"},{name:"doughnut",value:"&#x1f369",category:"物体"},{name:"custard",value:"&#x1f36e",category:"物体"},{name:"icecream",value:"&#x1f366",category:"物体"},{name:"ice-cream",value:"&#x1f368",category:"物体"},{name:"shaved-ice",value:"&#x1f367",category:"物体"},{name:"birthday",value:"&#x1f382",category:"物体"},{name:"cake",value:"&#x1f370",category:"物体"},{name:"cookie",value:"&#x1f36a",category:"物体"},{name:"chocolate-bar",value:"&#x1f36b",category:"物体"},{name:"candy",value:"&#x1f36c",category:"物体"},{name:"lollipop",value:"&#x1f36d",category:"物体"},{name:"honey-pot",value:"&#x1f36f",category:"物体"},{name:"apple",value:"&#x1f34e",category:"物体"},{name:"green-apple",value:"&#x1f34f",category:"物体"},{name:"tangerine",value:"&#x1f34a",category:"物体"},{name:"lemon",value:"&#x1f34b",category:"物体"},{name:"cherries",value:"&#x1f352",category:"物体"},{name:"grapes",value:"&#x1f347",category:"物体"},{name:"watermelon",value:"&#x1f349",category:"物体"},{name:"strawberry",value:"&#x1f353",category:"物体"},{name:"peach",value:"&#x1f351",category:"物体"},{name:"melon",value:"&#x1f348",category:"物体"},{name:"banana",value:"&#x1f34c",category:"物体"},{name:"pear",value:"&#x1f350",category:"物体"},{name:"pineapple",value:"&#x1f34d",category:"物体"},{name:"sweet-potato",value:"&#x1f360",category:"物体"},{name:"eggplant",value:"&#x1f346",category:"物体"},{name:"tomato",value:"&#x1f345",category:"物体"},{name:"corn",value:"&#x1f33d",category:"物体"},{name:"house",value:"&#x1f3e0",category:"地点"},{name:"house-with-garden",value:"&#x1f3e1",category:"地点"},{name:"school",value:"&#x1f3eb",category:"地点"},{name:"office",value:"&#x1f3e2",category:"地点"},{name:"post-office",value:"&#x1f3e3",category:"地点"},{name:"hospital",value:"&#x1f3e5",category:"地点"},{name:"bank",value:"&#x1f3e6",category:"地点"},{name:"convenience-store",value:"&#x1f3ea",category:"地点"},{name:"love-hotel",value:"&#x1f3e9",category:"地点"},{name:"hotel",value:"&#x1f3e8",category:"地点"},{name:"wedding",value:"&#x1f492",category:"地点"},{name:"church",value:"&#x26ea",category:"地点"},{name:"department-store",value:"&#x1f3ec",category:"地点"},{name:"european-post-office",value:"&#x1f3e4",category:"地点"},{name:"private-use",value:"&#xe50a",category:"地点"},{name:"city-sunrise",value:"&#x1f307",category:"地点"},{name:"city-sunset",value:"&#x1f306",category:"地点"},{name:"japanese-castle",value:"&#x1f3ef",category:"地点"},{name:"european-castle",value:"&#x1f3f0",category:"地点"},{name:"tent",value:"&#x26fa",category:"地点"},{name:"factory",value:"&#x1f3ed",category:"地点"},{name:"tokyo-tower",value:"&#x1f5fc",category:"地点"},{name:"japan",value:"&#x1f5fe",category:"地点"},{name:"mount-fuji",value:"&#x1f5fb",category:"地点"},{name:"sunrise-over-mountains",value:"&#x1f304",category:"地点"},{name:"sunrise",value:"&#x1f305",category:"地点"},{name:"stars",value:"&#x1f303",category:"地点"},{name:"statue-of-liberty",value:"&#x1f5fd",category:"地点"},{name:"bridge-at-night",value:"&#x1f309",category:"地点"},{name:"carousel-horse",value:"&#x1f3a0",category:"地点"},{name:"ferris-wheel",value:"&#x1f3a1",category:"地点"},{name:"fountain",value:"&#x26f2",category:"地点"},{name:"roller-coaster",value:"&#x1f3a2",category:"地点"},{name:"ship",value:"&#x1f6a2",category:"地点"},{name:"boat",value:"&#x26f5",category:"地点"},{name:"speedboat",value:"&#x1f6a4",category:"地点"},{name:"rowboat",value:"&#x1f6a3",category:"地点"},{name:"anchor",value:"&#x2693",category:"地点"},{name:"rocket",value:"&#x1f680",category:"地点"},{name:"airplane",value:"&#x2708",category:"地点"},{name:"seat",value:"&#x1f4ba",category:"地点"},{name:"helicopter",value:"&#x1f681",category:"地点"},{name:"steam-locomotive",value:"&#x1f682",category:"地点"},{name:"tram",value:"&#x1f68a",category:"地点"},{name:"station",value:"&#x1f689",category:"地点"},{name:"mountain-railway",value:"&#x1f69e",category:"地点"},{name:"train2",value:"&#x1f686",category:"地点"},{name:"bullettrain-side",value:"&#x1f684",category:"地点"},{name:"bullettrain-front",value:"&#x1f685",category:"地点"},{name:"light-rail",value:"&#x1f688",category:"地点"},{name:"metro",value:"&#x1f687",category:"地点"},{name:"monorail",value:"&#x1f69d",category:"地点"},{name:"tram-car",value:"&#x1f68b",category:"地点"},{name:"railway-car",value:"&#x1f683",category:"地点"},{name:"trolleybus",value:"&#x1f68e",category:"地点"},{name:"bus",value:"&#x1f68c",category:"地点"},{name:"oncoming-bus",value:"&#x1f68d",category:"地点"},{name:"blue-car",value:"&#x1f699",category:"地点"},{name:"oncoming-automobile",value:"&#x1f698",category:"地点"},{name:"car",value:"&#x1f697",category:"地点"},{name:"taxi",value:"&#x1f695",category:"地点"},{name:"oncoming-taxi",value:"&#x1f696",category:"地点"},{name:"articulated-lorry",value:"&#x1f69b",category:"地点"},{name:"truck",value:"&#x1f69a",category:"地点"},{name:"rotating-light",value:"&#x1f6a8",category:"地点"},{name:"police-car",value:"&#x1f693",category:"地点"},{name:"oncoming-police-car",value:"&#x1f694",category:"地点"},{name:"fire-engine",value:"&#x1f692",category:"地点"},{name:"ambulance",value:"&#x1f691",category:"地点"},{name:"minibus",value:"&#x1f690",category:"地点"},{name:"bike",value:"&#x1f6b2",category:"地点"},{name:"aerial-tramway",value:"&#x1f6a1",category:"地点"},{name:"suspension-railway",value:"&#x1f69f",category:"地点"},{name:"mountain-cableway",value:"&#x1f6a0",category:"地点"},{name:"tractor",value:"&#x1f69c",category:"地点"},{name:"barber",value:"&#x1f488",category:"地点"},{name:"busstop",value:"&#x1f68f",category:"地点"},{name:"ticket",value:"&#x1f3ab",category:"地点"},{name:"vertical-traffic-light",value:"&#x1f6a6",category:"地点"},{name:"traffic-light",value:"&#x1f6a5",category:"地点"},{name:"warning",value:"&#x26a0",category:"地点"},{name:"construction",value:"&#x1f6a7",category:"地点"},{name:"beginner",value:"&#x1f530",category:"地点"},{name:"fuelpump",value:"&#x26fd",category:"地点"},{name:"izakaya-lantern",value:"&#x1f3ee",category:"地点"},{name:"slot-machine",value:"&#x1f3b0",category:"地点"},{name:"hotsprings",value:"&#x2668",category:"地点"},{name:"moyai",value:"&#x1f5ff",category:"地点"},{name:"circus-tent",value:"&#x1f3aa",category:"地点"},{name:"performing-arts",value:"&#x1f3ad",category:"地点"},{name:"round-pushpin",value:"&#x1f4cd",category:"地点"},{name:"triangular-flag-on-post",value:"&#x1f6a9",category:"地点"},{name:"cn",value:"&#x1f1e8;&#x1f1f3",category:"地点"},{name:"de",value:"&#x1f1e9;&#x1f1ea",category:"地点"},{name:"es",value:"&#x1f1ea;&#x1f1f8",category:"地点"},{name:"fr",value:"&#x1f1eb;&#x1f1f7",category:"地点"},{name:"gb",value:"&#x1f1ec;&#x1f1e7",category:"地点"},{name:"it",value:"&#x1f1ee;&#x1f1f9",category:"地点"},{name:"jp",value:"&#x1f1ef;&#x1f1f5",category:"地点"},{name:"kr",value:"&#x1f1f0;&#x1f1f7",category:"地点"},{name:"ru",value:"&#x1f1f7;&#x1f1fa",category:"地点"},{name:"us",value:"&#x1f1fa;&#x1f1f8",category:"地点"},{name:"one",value:"&#x31;&#x20e3",category:"符号"},{name:"two",value:"&#x32;&#x20e3",category:"符号"},{name:"three",value:"&#x33;&#x20e3",category:"符号"},{name:"four",value:"&#x34;&#x20e3",category:"符号"},{name:"five",value:"&#x35;&#x20e3",category:"符号"},{name:"six",value:"&#x36;&#x20e3",category:"符号"},{name:"seve",value:"&#x37;&#x20e3",category:"符号"},{name:"eight",value:"&#x38;&#x20e3",category:"符号"},{name:"nine",value:"&#x39;&#x20e3",category:"符号"},{name:"zero",value:"&#x30;&#x20e3",category:"符号"},{name:"keycap-ten",value:"&#x1f51f",category:"符号"},{name:"1234",value:"&#x1f522",category:"符号"},{name:"hash",value:"&#x23;&#x20e3",category:"符号"},{name:"符号s",value:"&#x1f523",category:"符号"},{name:"capital-abcd",value:"&#x1f520",category:"符号"},{name:"abcd",value:"&#x1f521",category:"符号"},{name:"abc",value:"&#x1f524",category:"符号"},{name:"letter-a",value:"&#x1f1e6",category:"符号"},{name:"letter-b",value:"&#x1f1e7",category:"符号"},{name:"letter-c",value:"&#x1f1e8",category:"符号"},{name:"letter-d",value:"&#x1f1e9",category:"符号"},{name:"letter-e",value:"&#x1f1ea",category:"符号"},{name:"letter-f",value:"&#x1f1eb",category:"符号"},{name:"letter-g",value:"&#x1f1ec",category:"符号"},{name:"letter-h",value:"&#x1f1ed",category:"符号"},{name:"letter-i",value:"&#x1f1ee",category:"符号"},{name:"letter-j",value:"&#x1f1ef",category:"符号"},{name:"letter-k",value:"&#x1f1f0",category:"符号"},{name:"letter-l",value:"&#x1f1f1",category:"符号"},{name:"letter-m",value:"&#x1f1f2",category:"符号"},{name:"letter-n",value:"&#x1f1f3",category:"符号"},{name:"letter-o",value:"&#x1f1f4",category:"符号"},{name:"letter-p",value:"&#x1f1f5",category:"符号"},{name:"letter-q",value:"&#x1f1f6",category:"符号"},{name:"letter-r",value:"&#x1f1f7",category:"符号"},{name:"letter-s",value:"&#x1f1f8",category:"符号"},{name:"letter-t",value:"&#x1f1f9",category:"符号"},{name:"letter-u",value:"&#x1f1fa",category:"符号"},{name:"letter-v",value:"&#x1f1fb",category:"符号"},{name:"letter-w",value:"&#x1f1fc",category:"符号"},{name:"letter-x",value:"&#x1f1fd",category:"符号"},{name:"letter-y",value:"&#x1f1fe",category:"符号"},{name:"letter-z",value:"&#x1f1ff",category:"符号"},{name:"arrow-up",value:"&#x2b06",category:"符号"},{name:"arrow-down",value:"&#x2b07",category:"符号"},{name:"arrow-left",value:"&#x2b05",category:"符号"},{name:"arrow-right",value:"&#x27a1",category:"符号"},{name:"arrow-upper-left",value:"&#x2196",category:"符号"},{name:"arrow-upper-right",value:"&#x2197",category:"符号"},{name:"arrow-lower-right",value:"&#x2198",category:"符号"},{name:"arrow-lower-left",value:"&#x2199",category:"符号"},{name:"left-right-arrow",value:"&#x2194",category:"符号"},{name:"arrow-up-down",value:"&#x2195",category:"符号"},{name:"arrows-counterclockwise",value:"&#x1f504",category:"符号"},{name:"arrow-backward",value:"&#x25c0",category:"符号"},{name:"arrow-forward",value:"&#x25b6",category:"符号"},{name:"arrow-up-small",value:"&#x1f53c",category:"符号"},{name:"arrow-down-small",value:"&#x1f53d",category:"符号"},{name:"leftwards-arrow-with-hook",value:"&#x21a9",category:"符号"},{name:"arrow-right-hook",value:"&#x21aa",category:"符号"},{name:"information-source",value:"&#x2139",category:"符号"},{name:"rewind",value:"&#x23ea",category:"符号"},{name:"fast-forward",value:"&#x23e9",category:"符号"},{name:"arrow-double-up",value:"&#x23eb",category:"符号"},{name:"arrow-double-down",value:"&#x23ec",category:"符号"},{name:"arrow-heading-down",value:"&#x2935",category:"符号"},{name:"arrow-heading-up",value:"&#x2934",category:"符号"},{name:"ok",value:"&#x1f197",category:"符号"},{name:"twisted-rightwards-arrows",value:"&#x1f500",category:"符号"},{name:"repeat",value:"&#x1f501",category:"符号"},{name:"repeat-one",value:"&#x1f502",category:"符号"},{name:"new",value:"&#x1f195",category:"符号"},{name:"up",value:"&#x1f199",category:"符号"},{name:"cool",value:"&#x1f192",category:"符号"},{name:"free",value:"&#x1f193",category:"符号"},{name:"ng",value:"&#x1f196",category:"符号"},{name:"signal-strength",value:"&#x1f4f6",category:"符号"},{name:"cinema",value:"&#x1f3a6",category:"符号"},{name:"koko",value:"&#x1f201",category:"符号"},{name:"u6307",value:"&#x1f22f",category:"符号"},{name:"u7a7a",value:"&#x1f233",category:"符号"},{name:"u6e80",value:"&#x1f235",category:"符号"},{name:"u5408",value:"&#x1f234",category:"符号"},{name:"u7981",value:"&#x1f232",category:"符号"},{name:"ideograph-advantage",value:"&#x1f250",category:"符号"},{name:"u5272",value:"&#x1f239",category:"符号"},{name:"u55b6",value:"&#x1f23a",category:"符号"},{name:"u6709",value:"&#x1f236",category:"符号"},{name:"u7121",value:"&#x1f21a",category:"符号"},{name:"restroom",value:"&#x1f6bb",category:"符号"},{name:"mens",value:"&#x1f6b9",category:"符号"},{name:"womens",value:"&#x1f6ba",category:"符号"},{name:"baby-符号",value:"&#x1f6bc",category:"符号"},{name:"wc",value:"&#x1f6be",category:"符号"},{name:"potable-water",value:"&#x1f6b0",category:"符号"},{name:"put-litter-in-its-place",value:"&#x1f6ae",category:"符号"},{name:"parking",value:"&#x1f17f",category:"符号"},{name:"wheelchair",value:"&#x267f",category:"符号"},{name:"no-smoking",value:"&#x1f6ad",category:"符号"},{name:"u6708",value:"&#x1f237",category:"符号"},{name:"u7533",value:"&#x1f238",category:"符号"},{name:"sa",value:"&#x1f202",category:"符号"},{name:"m",value:"&#x24c2",category:"符号"},{name:"passport-control",value:"&#x1f6c2",category:"符号"},{name:"baggage-claim",value:"&#x1f6c4",category:"符号"},{name:"left-luggage",value:"&#x1f6c5",category:"符号"},{name:"customs",value:"&#x1f6c3",category:"符号"},{name:"accept",value:"&#x1f251",category:"符号"},{name:"secret",value:"&#x3299",category:"符号"},{name:"congratulations",value:"&#x3297",category:"符号"},{name:"cl",value:"&#x1f191",category:"符号"},{name:"sos",value:"&#x1f198",category:"符号"},{name:"id",value:"&#x1f194",category:"符号"},{name:"no-entry-sign",value:"&#x1f6ab",category:"符号"},{name:"underage",value:"&#x1f51e",category:"符号"},{name:"no-mobile-phones",value:"&#x1f4f5",category:"符号"},{name:"do-not-litter",value:"&#x1f6af",category:"符号"},{name:"non-potable-water",value:"&#x1f6b1",category:"符号"},{name:"no-bicycles",value:"&#x1f6b3",category:"符号"},{name:"no-pedestrians",value:"&#x1f6b7",category:"符号"},{name:"children-crossing",value:"&#x1f6b8",category:"符号"},{name:"no-entry",value:"&#x26d4",category:"符号"},{name:"eight-spoked-asterisk",value:"&#x2733",category:"符号"},{name:"table-lamp",value:"&#x2747",category:"符号"},{name:"negative-squared-cross-mark",value:"&#x274e",category:"符号"},{name:"white-check-mark",value:"&#x2705",category:"符号"},{name:"eight-pointed-black-star",value:"&#x2734",category:"符号"},{name:"heart-decoration",value:"&#x1f49f",category:"符号"},{name:"vs",value:"&#x1f19a",category:"符号"},{name:"vibration-mode",value:"&#x1f4f3",category:"符号"},{name:"mobile-phone-off",value:"&#x1f4f4",category:"符号"},{name:"a",value:"&#x1f170",category:"符号"},{name:"b",value:"&#x1f171",category:"符号"},{name:"ab",value:"&#x1f18e",category:"符号"},{name:"o2",value:"&#x1f17e",category:"符号"},{name:"diamond-shape-with-a-dot-inside",value:"&#x1f4a0",category:"符号"},{name:"loop",value:"&#x27bf",category:"符号"},{name:"recycle",value:"&#x267b",category:"符号"},{name:"aries",value:"&#x2648",category:"符号"},{name:"taurus",value:"&#x2649",category:"符号"},{name:"gemini",value:"&#x264a",category:"符号"},{name:"cancer",value:"&#x264b",category:"符号"},{name:"leo",value:"&#x264c",category:"符号"},{name:"virgo",value:"&#x264d",category:"符号"},{name:"libra",value:"&#x264e",category:"符号"},{name:"scorpius",value:"&#x264f",category:"符号"},{name:"sagittarius",value:"&#x2650",category:"符号"},{name:"capricorn",value:"&#x2651",category:"符号"},{name:"aquarius",value:"&#x2652",category:"符号"},{name:"pisces",value:"&#x2653",category:"符号"},{name:"ophiuchus",value:"&#x26ce",category:"符号"},{name:"six-pointed-star",value:"&#x1f52f",category:"符号"},{name:"atm",value:"&#x1f3e7",category:"符号"},{name:"chart",value:"&#x1f4b9",category:"符号"},{name:"heavy-dollar-sign",value:"&#x1f4b2",category:"符号"},{name:"currency-exchange",value:"&#x1f4b1",category:"符号"},{name:"copyright",value:"&#xa9",category:"符号"},{name:"registered",value:"&#xae",category:"符号"},{name:"tm",value:"&#x2122",category:"符号"},{name:"x",value:"&#x274c",category:"符号"},{name:"bangbang",value:"&#x203c",category:"符号"},{name:"interrobang",value:"&#x2049",category:"符号"},{name:"exclamation",value:"&#x2757",category:"符号"},{name:"question",value:"&#x2753",category:"符号"},{name:"grey-exclamation",value:"&#x2755",category:"符号"},{name:"grey-question",value:"&#x2754",category:"符号"},{name:"o",value:"&#x2b55",category:"符号"},{name:"top",value:"&#x1f51d",category:"符号"},{name:"end",value:"&#x1f51a",category:"符号"},{name:"back",value:"&#x1f519",category:"符号"},{name:"on",value:"&#x1f51b",category:"符号"},{name:"soon",value:"&#x1f51c",category:"符号"},{name:"arrows-clockwise",value:"&#x1f503",category:"符号"},{name:"clock12",value:"&#x1f55b",category:"符号"},{name:"clock1230",value:"&#x1f567",category:"符号"},{name:"clock1",value:"&#x1f550",category:"符号"},{name:"clock130",value:"&#x1f55c",category:"符号"},{name:"clock2",value:"&#x1f551",category:"符号"},{name:"clock230",value:"&#x1f55d",category:"符号"},{name:"clock3",value:"&#x1f552",category:"符号"},{name:"clock330",value:"&#x1f55e",category:"符号"},{name:"clock4",value:"&#x1f553",category:"符号"},{name:"clock430",value:"&#x1f55f",category:"符号"},{name:"clock5",value:"&#x1f554",category:"符号"},{name:"clock530",value:"&#x1f560",category:"符号"},{name:"clock6",value:"&#x1f555",category:"符号"},{name:"clock7",value:"&#x1f556",category:"符号"},{name:"clock8",value:"&#x1f557",category:"符号"},{name:"clock9",value:"&#x1f558",category:"符号"},{name:"clock10",value:"&#x1f559",category:"符号"},{name:"clock11",value:"&#x1f55a",category:"符号"},{name:"clock630",value:"&#x1f561",category:"符号"},{name:"clock730",value:"&#x1f562",category:"符号"},{name:"clock830",value:"&#x1f563",category:"符号"},{name:"clock930",value:"&#x1f564",category:"符号"},{name:"clock1030",value:"&#x1f565",category:"符号"},{name:"clock1130",value:"&#x1f566",category:"符号"},{name:"heavy-multiplication-x",value:"&#x2716",category:"符号"},{name:"heavy-plus-sign",value:"&#x2795",category:"符号"},{name:"heavy-minus-sign",value:"&#x2796",category:"符号"},{name:"heavy-division-sign",value:"&#x2797",category:"符号"},{name:"spades",value:"&#x2660",category:"符号"},{name:"hearts",value:"&#x2665",category:"符号"},{name:"clubs",value:"&#x2663",category:"符号"},{name:"diamonds",value:"&#x2666",category:"符号"},{name:"white-flower",value:"&#x1f4ae",category:"符号"},{name:"100",value:"&#x1f4af",category:"符号"},{name:"heavy-check-mark",value:"&#x2714",category:"符号"},{name:"ballot-box-with-check",value:"&#x2611",category:"符号"},{name:"radio-button",value:"&#x1f518",category:"符号"},{name:"link",value:"&#x1f517",category:"符号"},{name:"curly-loop",value:"&#x27b0",category:"符号"},{name:"wavy-dash",value:"&#x3030",category:"符号"},{name:"part-alternation-mark",value:"&#x303d",category:"符号"},{name:"trident",value:"&#x1f531",category:"符号"},{name:"black-medium-square",value:"&#x25fc",category:"符号"},{name:"white-medium-square",value:"&#x25fb",category:"符号"},{name:"black-medium-small-square",value:"&#x25fe",category:"符号"},{name:"white-medium-small-square",value:"&#x25fd",category:"符号"},{name:"black-small-square",value:"&#x25aa",category:"符号"},{name:"white-small-square",value:"&#x25ab",category:"符号"},{name:"small-red-triangle",value:"&#x1f53a",category:"符号"},{name:"black-square-button",value:"&#x1f532",category:"符号"},{name:"white-square-button",value:"&#x1f533",category:"符号"},{name:"black-circle",value:"&#x26ab",category:"符号"},{name:"white-circle",value:"&#x26aa",category:"符号"},{name:"red-circle",value:"&#x1f534",category:"符号"},{name:"large-blue-circle",value:"&#x1f535",category:"符号"},{name:"small-red-triangle-down",value:"&#x1f53b",category:"符号"},{name:"small-h-with-hook",value:"&#x2b1c",category:"符号"},{name:"black-large-suare",value:"&#x2b1b",category:"符号"},{name:"large-orange-diamond",value:"&#x1f536",category:"符号"},{name:"large-blue-diamond",value:"&#x1f537",category:"符号"},{name:"small-orange-diamond",value:"&#x1f538",category:"符号"},{name:"small-blue-diamond",value:"&#x1f539",category:"符号"}];return t}),define("$model/chat/lib/superInput/lib/recorder",["require","$UI/system/lib/justep"],function(e){var t=e("$UI/system/lib/justep");window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=function(e,t){t=t||{},t.sampleBits=t.sampleBits||8,t.sampleRate=t.sampleRate||7350;var n=new(window.webkitAudioContext||window.AudioContext),r=n.createMediaStreamSource(e),i=n.createScriptProcessor||n.createJavaScriptNode,s=i.apply(n,[4096,1,1]),o={size:0,buffer:[],inputSampleRate:n.sampleRate,inputSampleBits:16,outputSampleRate:t.sampleRate,oututSampleBits:t.sampleBits,input:function(e){this.buffer.push(new Float32Array(e)),this.size+=e.length},compress:function(){var e=new Float32Array(this.size),t=0;for(var n=0;n<this.buffer.length;n++)e.set(this.buffer[n],t),t+=this.buffer[n].length;var r=parseInt(this.inputSampleRate/this.outputSampleRate),i=e.length/r,s=new Float32Array(i),o=0,u=0;while(o<i)s[o]=e[u],u+=r,o++;return s},encodeWAV:function(){var e=Math.min(this.inputSampleRate,this.outputSampleRate),t=Math.min(this.inputSampleBits,this.oututSampleBits),n=this.compress(),r=n.length*(t/8),i=new ArrayBuffer(44+r),s=new DataView(i),o=1,u=0,a=function(e){for(var t=0;t<e.length;t++)s.setUint8(u+t,e.charCodeAt(t))};a("RIFF"),u+=4,s.setUint32(u,36+r,!0),u+=4,a("WAVE"),u+=4,a("fmt "),u+=4,s.setUint32(u,16,!0),u+=4,s.setUint16(u,1,!0),u+=2,s.setUint16(u,o,!0),u+=2,s.setUint32(u,e,!0),u+=4,s.setUint32(u,o*e*(t/8),!0),u+=4,s.setUint16(u,o*(t/8),!0),u+=2,s.setUint16(u,t,!0),u+=2,a("data"),u+=4,s.setUint32(u,r,!0),u+=4;if(t===8)for(var f=0;f<n.length;f++,u++){var l=Math.max(-1,Math.min(1,n[f])),c=l<0?l*32768:l*32767;c=parseInt(255/(65535/(c+32768))),s.setInt8(u,c,!0)}else for(var f=0;f<n.length;f++,u+=2){var l=Math.max(-1,Math.min(1,n[f]));s.setInt16(u,l<0?l*32768:l*32767,!0)}return new Blob([s],{type:"audio/wav"})}};this.start=function(){r.connect(s),s.connect(n.destination)},this.stop=function(){s.disconnect()},this.getBlob=function(){return this.stop(),o.encodeWAV()},this.play=function(e){e.src=window.URL.createObjectURL(this.getBlob())},this.upload=function(e,t){var n=new FormData;n.append("audioData",this.getBlob());var r=new XMLHttpRequest;t&&(r.upload.addEventListener("progress",function(e){t("uploading",e)},!1),r.addEventListener("load",function(e){t("ok",e)},!1),r.addEventListener("error",function(e){t("error",e)},!1),r.addEventListener("abort",function(e){t("cancel",e)},!1)),r.open("POST",e),r.send(n)},s.onaudioprocess=function(e){o.input(e.inputBuffer.getChannelData(0))}};return n.throwError=function(e){throw t.Error.create(e)},n.canRecording=navigator.getUserMedia!=null,n.get=function(e,t){if(e){if(!navigator.getUserMedia){n.throwErr("当前浏览器不支持录音功能。");return}navigator.getUserMedia({audio:!0},function(r){var i=new n(r,t);e(i)},function(e){switch(e.code||e.name){case"PERMISSION_DENIED":case"PermissionDeniedError":n.throwError("用户拒绝提供信息。");break;case"NOT_SUPPORTED_ERROR":case"NotSupportedError":n.throwError("浏览器不支持硬件设备。");break;case"MANDATORY_UNSATISFIED_ERROR":case"MandatoryUnsatisfiedError":n.throwError("无法发现指定的硬件设备。");break;default:n.throwError("无法打开麦克风。异常信息:"+(e.code||e.name))}})}},n}),define("$model/chat/lib/superInput/superInput",["require","$UI/system/components/justep/common/res","css!./css/superInput","css!./css/emoji","$UI/system/lib/cordova/cordova","cordova!cordova-plugin-media","cordova!cordova-plugin-keyboard","$UI/system/lib/base/store","../electron-app","jquery","$UI/system/lib/justep","$UI/system/components/justep/button/button","$UI/system/components/justep/scrollView/scrollView","./superInput.config","./js/twemoji.amd","./js/emoji","./lib/recorder"],function(e){e("$UI/system/components/justep/common/res"),e("css!./css/superInput").load(),e("css!./css/emoji").load(),e("$UI/system/lib/cordova/cordova"),e("cordova!cordova-plugin-media"),e("cordova!cordova-plugin-keyboard");var t=e("$UI/system/lib/base/store"),n=e("../electron-app"),r=e("jquery"),i=e("$UI/system/lib/justep"),s=e("$UI/system/components/justep/button/button"),o=e("$UI/system/components/justep/scrollView/scrollView"),u=e.normalizeName("./superInput"),a=e("./superInput.config"),f="iconfont icon-keyboard",l="iconfont icon-biaoqing",c=e("./js/twemoji.amd"),h=e("./js/emoji"),p=e("./lib/recorder"),d=e.toUrl("./img/emoji/"),v=function(e,t){if(!e||!t)return;var n={};r.each(h,function(r,o){if(!n[o.category]){var u=i.UUID.createUUID();n[o.category]={content:e.add({xid:u}),html:[]},new s({target:u,label:o.category,"class":"btn btn-link",parentNode:t.domNode})}var a=n[o.category].html;a.push('<div class="col cell col-xs-2">'),a.push(o.value),a.push("</div>")}),r.each(n,function(e,t){var n='<div class="row grid">'+t.html.join("")+"</div>",r=new o({parentNode:t.content.domNode,recycleSelector:".col.cell"});r.$domNode.addClass("container-fluid"),r.$domNode.find(".x-scroll-content").html(n),m(t.content.domNode,36)})},m=function(e,t){return c.parse(e,{base:d,size:t||16})},g=i.BindComponent.extend({getConfig:function(){return a},constructor:function(e){window.Keyboard&&Keyboard.shrinkView&&Keyboard.shrinkView(!0),this.callParent(e),this.eventNamespace=(new Date).getTime()+"",this._isTextMode=!1,this.isSendByEnterEnabled=!0,this.maximumDuration=60},dispose:function(){r(window).off("."+this.eventNamespace),this.resizeHandle&&r(window).off("resize",this.resizeHandle),this.callParent()},buildTemplate:function(e){return e||(e={}),this.set(e),e["class"]||(e["class"]="form-control"),"<input class='"+e["class"]+"' "+(e.style?" style='"+e.style+"' ":"")+(e.xid?" xid='"+e.xid+"' ":"")+" component='"+u+"' "+" ></input>"},doInit:function(e,t,n){this.callParent(e,t,n),i.Browser.isIphone&&this.addClass("iphone"),i.Browser.isMobileFromUserAgent&&this._get$InputArea().height("58px"),this._bindEvent(),this.fixWebkitBug()},fixWebkitBug:function(){i.Browser.isPCFromUserAgent||(this.$domNode.css("position","static"),this.$domNode.offset(),this.$domNode.css("position","fixed"))},doUpdate:function(e,t,n){this.callParent(e,t,n)},propertyChangedHandler:function(e,t,n){this.callParent(e,t,n)},_get$Content:function(){return this.$domNode.find(".x-input-content")},_get$VoiceInfo:function(){return this.$domNode.find(".x-voice-info")},_get$Emoji:function(){return this.$domNode.find(".x-superinput-emoji")},_get$InputArea:function(){return this.$domNode.find(".x-superinput-area")},_get$Attachment:function(){return this.$domNode.find(".x-superinput-attachment")},_getBtnEmoji:function(){var e=this.getModel();return this._btnEmoji||(this._btnEmoji=e.comp(this.$domNode.find(".x-btn-emoji")[0]))},_bindEvent:function(){var e=this.getModel(),n=this;this.$content=this._get$Content(),this.$emoji=this._get$Emoji(),r(window).on("keyboardhide."+this.eventNamespace,function(){n._isTextMode&&n.closePicker()}),n.$domNode.on("click",function(e){e.stopPropagation()}),r(e.getRootNode()).on("click",function(){n.closePicker()});var s=r(window).height(),o=r(window).width();n.resizeHandle=function(){var e=r(window).height(),i=r(window).width(),u=s-e>150&&o==i,a=s-e<-150&&o==i;u?(t.set("keyboardDidShow",!0),n._isTextMode=!0,n.inputRender(),n._resetTop(!0)):a&&n._isTextMode&&(t.set("keyboardDidShow",!1),n._resetTop()),s=r(window).height(),o=r(window).width()},(i.Browser.isAndroid&&!i.Browser.isYuanXin||i.Browser.isIOS&&i.Browser.isX5App)&&r(window).on("resize",n.resizeHandle),this.$content.on("input",function(e){var t=n.getRange();t&&(n._lastRange=t),n.inputRender()}).on("keydown",function(e){if(n.isSendByEnterEnabled){if(e.ctrlKey!=1&&13===e.keyCode)return n._doSend(),!1;if(e.ctrlKey==1&&13===e.keyCode){n.$content.html(n.$content.html()+"<br><br>");if(typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){var t=document.createRange();t.selectNodeContents(n.$content.get(0)),t.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(t)}else if(typeof document.body.createTextRange!="undefined"){var i=document.body.createTextRange();i.moveToElementText(n.$content.get(0)),i.collapse(!1),i.select()}return!1}}else if(e.ctrlKey==1&&13===e.keyCode)return n._doSend(),!1}).on("focus",function(){i.Browser.isIOS&&!i.Browser.isX5App&&n._resetTop(!0),i.Browser.isYuanXin&&(n._isTextMode=!0,n._resetTop(!0)),n._lastRange||setTimeout(function(){window.getSelection().rangeCount>0&&(n._lastRange=window.getSelection().getRangeAt(0))},300)}).on("blur",function(e){n.$content.removeClass("active")}).on("click",function(e){if(i.Browser.isIOS){r(e.target).is("img")&&n.cursorTo(e.target);var t=n.getRange();t&&(n._lastRange=t),n._isTextMode||n.changeInputMode(!0),e.preventDefault()}else if(i.Browser.isAndroid){r(e.target).is("img")&&n.cursorTo(e.target);var t=n.getRange();t&&(n._lastRange=t)}}),r(".x-btn-emoji").on("click",function(e){if(!n.$domNode.hasClass("x-superinput-pc")){var i=n._getBtnEmoji();return i&&n.changeInputMode(!n._isTextMode),!1}n.$emoji.css("display")=="none"?n.$emoji.css("display","flex"):n.$emoji.toggle();var t=n.getModel(),r=t.comp(n.$emoji.find(".x-contents")[0]);r.to(1)}),r(".x-btn-attachment").on("click",function(e){if(!n.$domNode.hasClass("x-superinput-pc"))return n.changeInputMode(!1,!1,!0),!1;n.$emoji.css("display")=="none"?n.$emoji.css("display","flex"):n.$emoji.toggle();var t=n.getModel(),r=t.comp(n.$emoji.find(".x-contents")[0]);r.to(0)});var u=function(){var t=e.comp(n.$emoji.find(".x-contents")[0]),r=e.comp(n.$emoji.find(".btn-group")[0]);v(t,r)};i.ModelBase.MODEL_STATUS_CONSTRUCT_DONE>e.getStatus()?e.on(i.ModelBase.MODEL_CONSTRUCT_DONE_EVENT,u):i.Bind.utils.domNodeReady.addReadyCallback(this.domNode,u),n.$emoji.on("click",".emoji",function(e){n.copyEmoji(r(e.target))}),this.$domNode.find(".x-btn-send").on("click",this._doSend.bind(this)),this.$domNode.find(".x-btn-voice").on("touchstart mousedown",this.startRecVoice.bind(this)).on("touchend mouseup",this.stopRecVoice.bind(this)),this.$domNode.find(".x-btn-prScrn").on("click",this._prScrn.bind(this))},changeInputMode:function(e,n,r){if(e)this._isTextMode=!0,this.$content.focus(),this.cursorToLastRang();else{if(!n){var i=this.getModel(),s=i.comp(this.$emoji.find(".x-contents")[0]),o=s.active;r?s.getLength()>0?s.to(0):setTimeout(function(){s.to(0)},300):o<1&&(s.getLength()>1?s.to(1):setTimeout(function(){s.to(1)},300))}if(this._isTextMode!=0||!!this.$emoji.hasClass("x-emoji-hide"))t.set("keyboardDidShow",!1),this.$emoji.removeClass("x-emoji-hide"),this._isTextMode=!1,this._resetTop(!0)}this.inputRender()},_resetTop:function(e){var n=this;if(e){var s=r(window).innerHeight(),o=this.$domNode.outerHeight(),u=t.get("keyboardHeight");if(i.Browser.isIOS&&i.Browser.isX5App){if(o>200){this.$domNode.css("top",s-u-58),this.$emoji.height(u+58),this.fireEvent("onResize",{source:this,height:u+58,isSuperInputPop:!0});return}setTimeout(function(){var e=r(window).innerHeight();e<s&&n._resetTop(!0)},100),this.$domNode.css("top",s-58),this.$emoji.height(u+58),window.requestAnimationFrame(function(){n.$domNode.css("display","none"),n.$domNode.offset(),n.$domNode.css("display",""),n.$domNode.offset();try{var e=window.getSelection();e&&e.collapseToEnd&&e.collapseToEnd()}catch(t){}}),this.fireEvent("onResize",{source:this,height:58,isSuperInputPop:!0});return}if(i.Browser.isIOS){if(u){i.Browser.isWeChat||i.Browser.isStandalone?(this.$domNode.css("top",s-u-58-45),this.$emoji.height(u+45),this.fireEvent("onResize",{source:this,height:u+58+45,isSuperInputPop:!0})):(this.$domNode.css("top",s-u-58),this.$emoji.height(u),this.fireEvent("onResize",{source:this,height:u+58,isSuperInputPop:!0})),r(window).scrollTop(0),setTimeout(function(){r(window).scrollTop(0)},0);return}}else if(i.Browser.isAndroid){i.Browser.isYuanXin&&(u=260);var o=this.$domNode.outerHeight();if(!(o>200)){u&&this.$emoji.height(u);if(this._isTextMode){if(i.Browser.isYuanXin){this.$domNode.css("top",s-u-58),this.fireEvent("onResize",{source:this,height:u+58,isSuperInputPop:!0});return}this.fireEvent("onResize",{source:this,height:58,isSuperInputPop:!0})}else setTimeout(function(){u?n.fireEvent("onResize",{source:n,height:u+58,isSuperInputPop:!0}):n.fireEvent("onResize",{source:n,height:348,isSuperInputPop:!0})},0);this.$domNode.css("top",s-58);return}if(u){this.$domNode.css("top",s-u-58),this.$emoji.height(u),this.fireEvent("onResize",{source:this,height:u+58,isSuperInputPop:!0});return}this.$domNode.css("top",s-o)}else this.$domNode.css("top",s-this.$domNode.outerHeight()),n.fireEvent("onResize",{source:n,height:348,isSuperInputPop:!0})}else this.$domNode.css("top","auto");this.fireEvent("onResize",{source:this,height:this.$domNode.outerHeight(),isSuperInputPop:e?!0:!1})},_doSend:function(e){var n=this,r={source:this,value:this.val()};this._isTextMode&&(t.get("keyboardDidShow")||i.Browser.isYuanXin)&&i.Browser.isAndroid&&n.$content.focus(),this.fireEvent("onSend",r)},_prScrn:function(){var e=n.sendSyncMessage("screenCapture");e&&this.fireEvent("screenCapture",{source:this})},copyEmoji:function(e){var t=e.attr("image-alt"),n=e.attr("image-src");this.pasteAtCursor('<img class="emoji" src="'+n+'" alt="'+t+'" width="16px" height="16px">'),this.inputRender()},getRange:function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}},cursorTo:function(e){if(e){var t=document.createRange();t.setStartAfter(e),t.collapse(!0);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}},cursorToEnd:function(e){e&&this.cursorTo(e.lastChild)},cursorToLastRang:function(){var e=this._lastRange;if(window.getSelection&&e){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},pasteAtCursor:function(e){var t=this._lastRange;t||i.Browser.isYuanXin||(this.$content.focus(),this.$content.blur(),t=this.getRange());if(window.getSelection&&t){var n=document.createElement("div");n.innerHTML=e;var r=document.createDocumentFragment(),s,o;while(s=n.firstChild)o=r.appendChild(s);t.deleteContents(),t.insertNode(r);if(o){var u=window.getSelection();t=t.cloneRange(),t.setStartAfter(o),t.collapse(),i.Browser.isAndroid&&(u.removeAllRanges(),u.addRange(t)),i.Browser.isYuanXin||this.$content.blur(),this._lastRange=t}}},inputRender:function(){var e=this.$content.html(),t=i.Browser.isIOS&&e==="<br>";e&&!t?(this.$domNode.find(".x-btn-send").removeClass("hide"),this.$domNode.find(".x-btn-voice").addClass("hide")):(this.$domNode.find(".x-btn-voice").removeClass("hide"),this.$domNode.find(".x-btn-send").addClass("hide"));var n=this._getBtnEmoji();this._isTextMode?n&&n.set("icon",l):(this.$content.addClass("active"),n&&n.set("icon",f)),this.$domNode.hasClass("x-superinput-pc")&&n&&n.set("icon",l)},closePicker:function(){var e={source:this,cancel:!1};this.fireEvent("onClosePicker",e);if(e.cancel)return;var t=this.$emoji.height(),n=this._isTextMode;this.$content.blur(),this.$domNode.css("top","auto"),this.$emoji.addClass("x-emoji-hide"),this._isTextMode=!1,this.inputRender(),(t>200||n===!0)&&this.fireEvent("onResize",{source:this,height:58,isSuperInputPop:!1})},showVoiceInfo:function(e){var t=this._get$VoiceInfo();this.$content[e?"addClass":"removeClass"]("hide"),t[e?"removeClass":"addClass"]("hide")},setVoiceRecTime:function(e){this.$domNode.find(".x-voice-recording-time").text(e)},createRecorder:function(){var t=r.Deferred(),n=new p({encoderPath:e.toUrl("./lib/oggopusEncoder.js")});if(p.isRecordingSupported()){var s=this;n.addEventListener("streamReady",function(){t.resolve(n)}),n.addEventListener("streamError",function(e){switch(e.code||e.name){case"PERMISSION_DENIED":case"PermissionDeniedError":throw i.Error.create("用户拒绝提供信息。");case"NOT_SUPPORTED_ERROR":case"NotSupportedError":throw i.Error.create("浏览器不支持硬件设备。");case"MANDATORY_UNSATISFIED_ERROR":case"MandatoryUnsatisfiedError":throw i.Error.create("无法发现指定的硬件设备。");default:throw i.Error.create("无法打开麦克风。异常信息:"+(e.code||e.name))}}),n.addEventListener("duration",function(e){s.setVoiceRecTime(e.detail.toFixed(2)+"秒"),e.detail>=s.maximumDuration&&s.stopRecVoice()}),n.addEventListener("dataAvailable",function(e){if(!s._recordCancel){var t={source:s,recorder:s.recorder,voice:e.detail};s.fireEvent("onFinishRecVoice",t)}}),n.initStream()}else t.reject("不支持录音!");return t.promise()},getMediaStorePath:function(){var e=cordova&&cordova.file.cacheDirectory,t=cordova&&cordova.file.externalCacheDirectory,n=t?t:e?e:"";return n},startRecVoice:function(e){var t=this;return t._recording||(this.startRecordingTime=(new Date).getTime(),i.Browser.isX5App?(t.fileName=i.Date.toString(new Date,"yyyyMMddhhmmss")+".wav",t.fileName=t.getMediaStorePath()+t.fileName,window.requestAnimationFrame(function(){t.mediaRec=new Media(t.fileName,function(e){console.log(e)},function(e){throw i.Error.create(e)}),t.mediaRec.startRecord(),t.showVoiceInfo(!0),t._recording=!0;var e={source:t};t.fireEvent("onStartRecVoice",e)})):p.get(function(e){t.recorder=e,e.start(),t.showVoiceInfo(!0),t._recording=!0;var n={source:t};t.fireEvent("onStartRecVoice",n)})),!1},getFileData:function(e){var t=r.Deferred(),n=function(e){e.file(s,o)},i=function(t){t.root.getFile(e,{create:!0,exclusive:!1},n,o)},s=function(e){var n=new FileReader;n.onload=function(e){t.resolve(new Blob([this.result],{type:"audio/wav"}))},n.readAsArrayBuffer(e)},o=function(){};return window.resolveLocalFileSystemURI(e,n,o),t.promise()},stopRecVoice:function(e){if(!this._recording)return;var t=e.originalEvent.changedTouches,n=window.screen.width-50;if(t&&t[0].clientX<n)return this.cancelRecVoice(e),!1;var r=(new Date).getTime();if(r-this.startRecordingTime<1e3)return i.Util.hint("说话时间太短！"),this.cancelRecVoice(e),!1;var s=this;return window.requestAnimationFrame(function(){if(s._recording){s.showVoiceInfo(!1);if(i.Browser.isX5App)s.mediaRec.stopRecord(),s.getFileData(s.fileName).then(function(e){s._recording=!1;var t={source:s,recorder:s.mediaRec,voice:e};s.fireEvent("onFinishRecVoice",t)});else{s.recorder.stop(),s._recording=!1;var e={source:s,recorder:s.recorder,voice:s.recorder.getBlob()};s.fireEvent("onFinishRecVoice",e)}}}),!1},cancelRecVoice:function(){this.showVoiceInfo(!1);if(this._recording){i.Browser.isX5App?this.mediaRec.stopRecord():this.recorder.stop(),this._recording=!1,this._recordCancel=!0;var e={source:this};return this.fireEvent("onCancelRecVoice",e),!1}},val:function(e){if(arguments.length===0){var t=this.$content.clone();t.find("img").replaceWith(function(){return this.alt});var n=t.html();return t.remove(),n}this.$content.html(m(e,16)),this.inputRender()},clear:function(){this.$content.empty(),this.inputRender()}});return g.emojiParse=m,i.Component.register(u,g),g}),define("$model/chat/base/js/im.impl",["require","./im","../../lib/superInput/superInput","$UI/system/lib/base/store","$UI/system/lib/justep","$UI/system/lib/base/object","$UI/system/lib/base/observable","./person","$UI/system/components/justep/uploader/uploader","res!../../lib/actor/actorClient.js"],function(e){var t=e("./im"),n=e("../../lib/superInput/superInput"),r=e("$UI/system/lib/base/store"),i=e("$UI/system/lib/justep"),s=e("$UI/system/lib/base/object"),o=e("$UI/system/lib/base/observable"),u=e("./person"),a=e("$UI/system/components/justep/uploader/uploader"),f=!1,l,c={},h=e.toUrl("../img/person.png"),p=e.toUrl("../img/org.png"),d="现在可以开始聊天了",v=":"+d,m=[15,52,60,73,12,11,86,35],g=function(e,t){var n="",r=t.length;for(var i=0;i<e.length;i++)n+=String.fromCharCode(e.charCodeAt(i)^t[i%r]);return n},y,b=function(){if(y)return y;var e=r.get("chat_loginData");if(e)return e=g(e,m),y=JSON.parse(e),y},w=function(e){e=JSON.stringify(e),r.set("chat_loginData",g(e,m))},E=function(){var e=b();return!e||!e.username||!e.password},S=function(e,t){return n.emojiParse(e,t)},x=function(){if(l)return l.getClient()},T=function(e){var t=e.content.content;if(t==="text"&&e.content.text===v)t="service";else if(t==="document"){var n=e.content.fileExtension;["aac","wav","mp3"].indexOf(n)>=0?t="audio":["mp4","ogg","webm","mov","MOV"].indexOf(n)>=0&&(t="video")}else t==="voice"&&(t="audio");return t},N=function(e,t){if(C(e)&&e.indexOf("<a")!=-1)return e.replace(/<a/g,"<a target='_blank' class='"+t+"'");var n=new RegExp("(http[s]{0,1}|ftp)://[a-zA-Z0-9\\.\\-]+\\.([a-zA-Z]{2,4})(:\\d+)?(/[a-zA-Z0-9\\.\\-~!@#$%^&*+?:_;/=<>]*)?","gi");return e.replace(n,function(e){return"<a target='_blank' class='"+t+"'>"+e+"</a>"})},C=function(e){var t=$("<div>").text(e).html();return t===e?!1:!0},k=function(e,t,n){t=t||{};var r=T(e),s="";if(r==="service"&&e.content.text===v)s=d;else if(r==="text")if(n){var o=(new Function("","return"+e.content.text))();s=i.String.format("<a class='{0}'><div>{1}</div><div style = 'text-align:right;'>{2}</div></a>",t.botClass||"",o.text,"------查看")}else{var u=N(e.content.text,t.linkClass||"");s=S(u,16)}else if(r==="photo")s=i.String.format("<img src='{0}' class='{1}'/>",e.content.preview,t.photoClass||"");else if(r==="document")s=i.String.format("<a class='{0}'><i class='iconfont icon-wenjianjia x-fileIcon'/>{1}</a>",t.fileClass||"",e.content.fileName);else if(r==="service")s=e.content.text;else if(r==="audio"||r==="voice"){var a=e.content.fileUrl||"",f=a.replace("voice.opus","voice.aac"),l=a.replace("voice.opus","voice.ogg");s=i.String.format("<audio class='hide' onerror = 'justep.Util.callModelFn({fn:\"updateVocText\",domNode:this},this,true);' oncanplay='justep.Util.callModelFn({fn:\"updateVocText\",domNode:this},this);'><source src='{0}'/><source src='{1}'/><source src='{2}'/></audio><i class='icon-loading-b {3}'/><label></label>",f,l,a,t.audioClass||"")}else if(r==="video"){var a=e.content.fileUrl||"",l=a.replace(".mp4?",".ogg?").replace(".mov?",".ogg?").replace(".MOV?",".ogg?");s=i.String.format("<video webkit-playsinline class='{0}'><source src='{1}'></source><source src='{2}'></source></video>",t.videoClass||"",a,l)}return s},L=function(e){var t=T(e);if(t==="photo")return{w:e.content.w,h:e.content.h,fileName:e.content.fileName}},A=function(e){var t=$.Deferred();return x().findUsers(e).then(function(n){var r=null;$.isArray(n)&&$.each(n,function(t,n){if(n.nick===e)return r=n,!1}),t.resolve(r)}),t.promise()},O=$.Deferred(),M=s.extend({mixins:o,constructor:function(e){this.callParent(),o.prototype.constructor.call(this);if(t.impl)throw new Error("不能重复创建IM实例");t.impl=this,this.model=e},_loadLoginDataByStore:b,_getPerson:function(e){return c[e]},loadPerson:function(e){},getOrgPersons:function(e){},getOrgDepts:function(e){},autoLogin:function(){var e=this;if(!E())return this.login(b()).fail(function(t){e.logout()});i.Shell.fireEvent("onShowLoginDialog",{})},doLogin:function(e){return{flag:!0,personID:"",personName:"",message:""}},doLoginAfter:function(e){this.setReady(!0),this.onLoggedIn()},onLoggedIn:function(){f=!0,i.Shell.fireEvent("onLoggedIn",{})},updatePersonUid:function(e,t,n){},login:function(e){var t=this,n=$.Deferred(),r=this.doLogin(e);if(r.flag===!0){var i=r.personID,s=r.personName;e.personID=i,e.personName=s,w(e),this.loginResult=r,t.doLoginAfter(r),n.resolve(r)}else n.reject(r.message);return n.promise()},setReady:function(e,t){e?O.resolve():O.reject(t)},loginActor:function(){var t=this,n=$.Deferred();return e("res!../../lib/actor/actorClient.js"),e(["../../lib/actor/actorClient"],function(e){l=e,l.promise.done(function(e){var r=t.loginResult,i=r.personID,s=r.personName,o=r.token;l.isLoggedIn(i)?O.promise().then(function(){t.loadPerson(c,i).done(function(){n.resolve(r)})},function(e){throw t.logout(),new Error(e)}):e.validateToken(i,s,o).then(function(s){s==="logged_in"?O.promise().then(function(){t.loadPerson(c,i).done(function(){var s=e.getUid();s?t.updatePersonUid(s,i).done(function(){n.resolve(r)}).fail(function(e){n.reject("同步UID失败!")}):(n.reject("无法获取UID"),t.logout())}).fail(function(e){n.reject("加载人员失败 ，"+(e||"未知错误"))})},function(e){throw t.logout(),new Error(e)}):s==="signup"?n.reject("signUp unSupported"):n.reject("Unsupported state: "+s)}).fail(function(e){n.reject("登录出错! 原因: "+e)})})}),n.promise()},doLogout:function(){},logout:function(){this.doLogout(),localStorage.clear();var e=location.href,t=e.lastIndexOf(location.hash);t>=0?location.href=e.substring(0,t):location.reload()},getPersonByUID:function(e){var t=x(),n;try{n=t.getUser(e)}catch(r){}return n&&c[n.nick]?(c[n.nick].uid!==e&&(c[n.nick].uid=e,this.updatePersonUid(e,n.nick)),this.getPerson(n.nick)):{}},getPerson:function(e){var t,n=c[e];if(n){var r=x(),i;try{i=r.getUser(t.uid)}catch(s){}i&&i.about&&(n.about=i.about),t=new u(n)}return t},addPerson:function(e){if(!e||!e.id)throw new Error("增加人员失败，id是必须的属性");var t=c[e.id];if(!!t)throw new Error("增加人员失败，id="+e.id+"已经存在");c[e.id]=e},isLoggedIn:function(){return f},getCurrentPerson:function(){return this.getPerson(this.loginResult.personID)},getCurrentPersonID:function(){return this.loginResult.personID},regPerson:function(e){var t=$.Deferred(),n=this;return e?A(e.id).done(function(r){r?e.uid===r.id?t.resolve(r.id):n.updatePersonUid(r.id,e.id).done(function(){t.resolve(r.id)}).fail(function(e){t.reject(e)}):x().registerUser(e.id,e.name).then(function(r){if(r&&r.length>0){var i=r[0];i&&n.updatePersonUid(i.id,e.id).done(function(){t.resolve(i.id)}).fail(function(e){t.reject(e)})}else t.reject("register Person to actor server error")})}).fail(function(e){t.reject(e)}):t.reject("regPerson person is null"),t.promise()},registerUsers:function(e,t){var n=this,r=$.Deferred();return x().registerUsers(e,t).then(function(e){var t=[];$.each(e,function(e,n){n.isNewUser&&t.push(n)}),n.updatePersonUid(null,null,t).done(function(){r.resolve(e)})},function(e){r.reject(e)}),r.promise()},addFriend:function(e){var t=this,n=$.Deferred();return e?t.regPerson(e).done(function(r){t.existFriend(e).done(function(e){if(e)n.resolve(r);else{var t=x();t.addContact(r).then(function(){var e=t.getUserPeer(r);t.sendTextMessage(e,v),n.resolve(r)})}}).fail(function(e){n.reject(e)})}).fail(function(e){n.reject(e)}):n.reject("addFriend person is null"),n.promise()},existFriend:function(e){var t=$.Deferred(),n=function(r){x().unbindContacts(n);if($.isArray(r))for(var i=0;i<r.length;i++)if(e.id===r[i].nick||e.uid===r[i].uid){t.resolve(!0);return}t.resolve(!1)};return x().bindContacts(n),t.promise()},getPersonDefaultIcon:function(){return h},getGroupDefaultIcon:function(){return p},messageParse:function(e,t){if(e){var n=this.getPersonByUID(e.sender.peer.id),r=x().getUser(e.sender.peer.id),i;r.isBot&&(i=(new Function("","return"+e.content.text))());var s=0,o;return e.reactions&&e.reactions.length>0&&(s=e.reactions[0].uids.length,o=e.reactions[0].isOwnSet),{mid:e.rid,content:k(e,t,r.isBot),sender:n,senderName:e.sender.title,avatar:n.avatar||h,isOut:e.isOut,fileUrl:e.content.fileUrl,type:T(e),state:e.state,senderPID:n.id,fullDate:e.fullDate,fileName:e.content.fileName,attentionNum:s,isOwnSet:o,date:e.date,option:L(e),messageText:e.content.text,pageUrl:i?i.url:"",pageParams:i?i.data:""}}},emojiParse:S,bindDialogs:function(e){return x().bindDialogs(e)},unbindDialogs:function(e){return x().unbindDialogs(e)},bindChat:function(e,t){return x().bindChat(e,t)},unbindChat:function(e,t){return x().unbindChat(e,t)},sendTextMessageToPerson:function(e,t){if(typeof e=="string"){e=this._getPerson(e);if(!e)throw new Error("发送消息的人员:"+e+"不存在!")}var n=this;this.addFriend(e).then(function(e){var r=x().getUserPeer(e);n.sendTextMessage(r,t)})},sendTextMessage:function(e,t){return x().sendTextMessage(e,t)},sendPhotoMessage:function(e,t){return x().sendPhotoMessage(e,t)},sendVoiceMessage:function(e,t,n){return x().sendVoiceMessage(e,t,n)},sendFileMessage:function(e,t){return x().sendFileMessage(e,t)},sendClipboardPhotoMessage:function(e,t){return x().sendClipboardPhotoMessage(e,t)},deleteChat:function(e){return x().deleteChat(e)},clearChat:function(e){return x().clearChat(e)},deleteMessage:function(e,t){return x().deleteMessage(e,t)},bindUser:function(e,t){return x().bindUser(e,t)},unbindUser:function(e,t){return x().unbindUser(e,t)},getUser:function(e){return x().getUser(e)},getGroup:function(e){return x().getGroup(e)},findUsers:function(e){return x().findUsers(e)},onConversationOpen:function(e){return x().onConversationOpen(e)},onConversationClosed:function(e){return x().onConversationClosed(e)},onMessageShown:function(e,t){return x().onMessageShown(e,t)},onChatEnd:function(e){return x().onChatEnd(e)},onDialogsEnd:function(){return x().onDialogsEnd()},bindUserOnline:function(e,t){return x().bindUserOnline(e,t)},unbindUserOnline:function(e,t){return x().unbindUserOnline(e,t)},bindGroupOnline:function(e,t){return x().bindGroupOnline(e,t)},bindTyping:function(e,t){return x().bindTyping(e,t)},unbindTyping:function(e,t){return x().unbindTyping(e,t)},getUid:function(){return x().getUid()},editMyName:function(e){return x().editMyName(e)},editMyNick:function(e){return x().editMyNick(e)},editMyAbout:function(e){return x().editMyAbout(e)},getUserPeer:function(e){return x().getUserPeer(e)},createGroup:function(e,t,n){return x().createGroup(e,t,n)},bindGroupDialogs:function(e){return x().bindGroupDialogs(e)},unbindGroupDialogs:function(e){return x().unbindGroupDialogs(e)},getGroupPeer:function(e){return x().getGroupPeer(e)},leaveGroup:function(e){return x().leaveGroup(e)},inviteMember:function(e,t){return x().inviteMember(e,t)},kickMember:function(e,t){return x().kickMember(e,t)},bindGroup:function(e,t){return x().bindGroup(e,t)},unbindGroup:function(e,t){return x().unbindGroup(e,t)},bindConnectState:function(e){return x().bindConnectState(e)},unbindConnectState:function(e){return x().unbindConnectState(e)},changeNotificationsEnabled:function(e,t){return x().changeNotificationsEnabled(e,t)},isNotificationsEnabled:function(e){return x().isNotificationsEnabled(e)},isSendByEnterEnabled:function(){return x().isSendByEnterEnabled()},changeSendByEnter:function(e){return x().changeSendByEnter(e)},editGroupTitle:function(e,t){return x().editGroupTitle(e,t)},editGroupAbout:function(e,t){return x().editGroupAbout(e,t)},bindMessages:function(e,t){return x().bindMessages(e,t)},bindChangeMyAvatar:function(e,t,n,r){var i=new a(n,{actionUrl:e,requestHeader:{Accept:"application/json"},name:t,compress:!0});return i.on("onStart",function(){i.addData(r)}),i.on("onSuccess",function(){}),i},bindGlobalCounter:function(e){return x().bindGlobalCounter(e)},unbindGlobalCounter:function(e){return x().unbindGlobalCounter(e)},addLike:function(e,t,n){return x().addLike(e,t)},removeLike:function(e,t){return x().removeLike(e,t)},getPeer:function(e,t){return t==="user"?x().getUserPeer(e):x().getGroupPeer(e)},getActorClient:function(){return x()},getLikeMsgs:function(){},createDeptDlg:function(e,t){},findGroups:function(e){return x().findGroups(e)},notification:function(e,t){},updateClientState:function(e){return x().requestCodeEmail(e)},updateGroupShared:function(e,t){return x().editGroupAbout(e,t)},pushNotification:function(){return x().pushNotification()},validateToken:function(e,t,n){return x().validateToken(e,t,n)},searchText:function(e,t,n,r){return x().searchText(e,t,n,r)},searchFiles:function(e,t,n){return x().searchFiles(e,t,n)}});return M}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("$model/chat/lib/clipboard.min",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){var r=e("matches-selector");t.exports=function(e,t,n){for(var i=n?e:e.parentNode;i&&i!==document;){if(r(i,t))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(e,t,n){function r(e,t,n,r,s){var o=i.apply(this,arguments);return e.addEventListener(n,o,s),{destroy:function(){e.removeEventListener(n,o,s)}}}function i(e,t,n,r){return function(n){n.delegateTarget=s(n.target,t,!0),n.delegateTarget&&r.call(e,n)}}var s=e("closest");t.exports=r},{closest:1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!u.string(t))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(e))return i(e,t,n);if(u.nodeList(e))return s(e,t,n);if(u.string(e))return o(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function s(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function o(e,t,n){return a(document.body,e,t,n)}var u=e("./is"),a=e("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(e,t,n){function r(e,t){if(s)return s.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var i=Element.prototype,s=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=r},{}],6:[function(e,t,n){function r(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}t.exports=r},{}],7:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,o=r.length;o>s;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],8:[function(t,n,r){!function(i,s){if("function"==typeof e&&e.amd)e(["module","select"],s);else if("undefined"!=typeof r)s(n,t("select"));else{var u={exports:{}};s(u,i.select),i.clipboardAction=u.exports}}(this,function(e,t){function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(t),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},e.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(n){t=!1}this.handleResult(t)},e.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},o(e,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":s(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();e.exports=u})},{select:6}],9:[function(t,n,r){!function(i,s){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],s);else if("undefined"!=typeof r)s(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var u={exports:{}};s(u,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=u.exports}}(this,function(e,t,n,r){function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var f=i(t),l=i(n),c=i(r),h=function(e){function t(n,r){s(this,t);var i=o(this,e.call(this));return i.resolveOptions(r),i.listenClick(n),i}return u(t,e),t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},t.prototype.listenClick=function(t){var n=this;this.listener=(0,c.default)(t,"click",function(e){return n.onClick(e)})},t.prototype.onClick=function(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},t.prototype.defaultAction=function(t){return a("action",t)},t.prototype.defaultTarget=function(t){var n=a("target",t);return n?document.querySelector(n):void 0},t.prototype.defaultText=function(t){return a("text",t)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(l.default);e.exports=h})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),!function(e,t){"function"==typeof define&&define.amd?define("$model/chat/lib/photoswipe/photoswipe-ui-default.min",t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){var e=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E=this,S=!1,x=!0,T=!0,N={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},C=function(e){if(g)return!0;e=e||window.event,m.timeToIdle&&m.mouseUsed&&!l&&B();for(var n,r,i=e.target||e.srcElement,s=i.getAttribute("class")||"",o=0;o<W.length;o++)n=W[o],n.onTap&&s.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),g=!0;var u=t.features.isOldAndroid?600:30;y=setTimeout(function(){g=!1},u)}},k=function(){return!e.likelyTouchDevice||m.mouseUsed||screen.width>m.fitControlsWidth},L=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},A=function(){var e=1===m.getNumItemsFn();e!==v&&(L(r,"ui--one-slide",e),v=e)},O=function(){L(a,"share-modal--hidden",T)},M=function(){return T=!T,T?(t.removeClass(a,"pswp__share-modal--fade-in"),setTimeout(function(){T&&O()},300)):(O(),setTimeout(function(){T||t.addClass(a,"pswp__share-modal--fade-in")},30)),T||D(),!1},_=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),n.href?n.hasAttribute("download")?!0:(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),T||M(),!1):!1},D=function(){for(var e,t,n,r,i,s="",o=0;o<m.shareButtons.length;o++)e=m.shareButtons[o],n=m.getImageURLForShare(e),r=m.getPageURLForShare(e),i=m.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(r)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),s+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",m.parseShareButtonOut&&(s=m.parseShareButtonOut(e,s));a.children[0].innerHTML=s,a.children[0].onclick=_},P=function(e){for(var n=0;n<m.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+m.closeElClasses[n]))return!0},H=0,B=function(){clearTimeout(w),H=0,l&&E.setIdle(!1)},j=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){E.setIdle(!0)},m.timeToIdleOutside))},F=function(){m.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=E.getFullscreenAPI()),n?(t.bind(document,n.eventK,E.updateFullscreen),E.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},I=function(){m.preloaderEl&&(q(!0),c("beforeChange",function(){clearTimeout(d),d=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&q(!1):q(!0)},m.loadingIndicatorDelay)}),c("imageLoadComplete",function(t,n){e.currItem===n&&q(!0)}))},q=function(e){p!==e&&(L(h,"preloader--active",!e),p=e)},R=function(e){var n=e.vGap;if(k()){var o=m.barsSize;if(m.captionEl&&"auto"===o.bottom)if(s||(s=t.createEl("pswp__caption pswp__caption--fake"),s.appendChild(t.createEl("pswp__caption__center")),r.insertBefore(s,i),t.addClass(r,"pswp__ui--fit")),m.addCaptionHTMLFn(e,s,!0)){var u=s.clientHeight;n.bottom=parseInt(u,10)||44}else n.bottom=o.top;else n.bottom="auto"===o.bottom?0:o.bottom;n.top=o.top}else n.top=n.bottom=0},U=function(){m.timeToIdle&&c("mouseUsed",function(){t.bind(document,"mousemove",B),t.bind(document,"mouseout",j),b=setInterval(function(){H++,2===H&&E.setIdle(!0)},m.timeToIdle/2)})},z=function(){c("onVerticalDrag",function(e){x&&.95>e?E.hideControls():!x&&e>=.95&&E.showControls()});var e;c("onPinchClose",function(t){x&&.9>t?(E.hideControls(),e=!0):e&&!x&&t>.9&&E.showControls()}),c("zoomGestureEnded",function(){e=!1,e&&!x&&E.showControls()})},W=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){a=e},onTap:function(){M()}},{name:"button--share",option:"shareEl",onInit:function(e){u=e},onTap:function(){M()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){o=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){h=e}}],X=function(){var e,n,i,s=function(r){if(r)for(var s=r.length,o=0;s>o;o++){e=r[o],n=e.className;for(var u=0;u<W.length;u++)i=W[u],n.indexOf("pswp__"+i.name)>-1&&(m[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};s(r.children);var o=t.getChildByClass(r,"pswp__top-bar");o&&s(o.children)};E.init=function(){t.extend(e.options,N,!0),m=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),c=e.listen,z(),c("beforeChange",E.update),c("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(m.getDoubleTapZoom(!1,e.currItem),t,333)}),c("preventDragEvent",function(e,t,n){var r=e.target||e.srcElement;r&&r.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)}),c("bindEvents",function(){t.bind(r,"pswpTap click",C),t.bind(e.scrollWrap,"pswpTap",E.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",E.onMouseOver)}),c("unbindEvents",function(){T||M(),b&&clearInterval(b),t.unbind(document,"mouseout",j),t.unbind(document,"mousemove",B),t.unbind(r,"pswpTap click",C),t.unbind(e.scrollWrap,"pswpTap",E.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",E.onMouseOver),n&&(t.unbind(document,n.eventK,E.updateFullscreen),n.isFullscreen()&&(m.hideAnimationDuration=0,n.exit()),n=null)}),c("destroy",function(){m.captionEl&&(s&&r.removeChild(s),t.removeClass(i,"pswp__caption--empty")),a&&(a.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),E.setIdle(!1)}),m.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),c("initialZoomIn",function(){m.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")}),c("initialZoomOut",function(){t.addClass(r,"pswp__ui--hidden")}),c("parseVerticalMargin",R),X(),m.shareEl&&u&&a&&(T=!0),A(),U(),F(),I()},E.setIdle=function(e){l=e,L(r,"ui--idle",e)},E.update=function(){x&&e.currItem?(E.updateIndexIndicator(),m.captionEl&&(m.addCaptionHTMLFn(e.currItem,i),L(i,"caption--empty",!e.currItem.title)),S=!0):S=!1,T||M(),A()},E.updateFullscreen=function(r){r&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},E.updateIndexIndicator=function(){m.counterEl&&(o.innerHTML=e.getCurrentIndex()+1+m.indexIndicatorSep+m.getNumItemsFn())},E.onGlobalTap=function(n){n=n||window.event;var r=n.target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(P(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?m.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(m.tapToToggleControls&&(x?E.hideControls():E.showControls()),m.tapToClose&&(t.hasClass(r,"pswp__img")||P(r)))return void e.close()},E.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;L(r,"ui--over-close",P(t))},E.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),x=!1},E.showControls=function(){x=!0,S||E.update(),t.removeClass(r,"pswp__ui--hidden")},E.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},E.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return f=m.closeOnScroll,m.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return m.closeOnScroll=f,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),!function(e,t){"function"==typeof define&&define.amd?define("$model/chat/lib/photoswipe/photoswipe.min",t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){var e=function(e,t,n,r){var i={features:null,bind:function(e,t,n,r){var i=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var s=0;s<t.length;s++)t[s]&&e[i](t[s],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&(new RegExp("(^|\\s)"+t+"(\\s|$)")).test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,n="",r={};if(r.oldIE=document.all&&!document.addEventListener,r.touch="ontouchstart"in window,window.requestAnimationFrame&&(r.raf=window.requestAnimationFrame,r.caf=window.cancelAnimationFrame),r.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!r.pointerEvent){var s=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10),o>=1&&8>o&&(r.isOldIOSPhone=!0))}var u=s.match(/Android\s([0-9\.]*)/),a=u?u[1]:0;a=parseFloat(a),a>=1&&(4.4>a&&(r.isOldAndroid=!0),r.androidVersion=a),r.isMobileOpera=/opera mini|opera mobi/i.test(s)}for(var f,l,c=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],p=0;4>p;p++){n=h[p];for(var d=0;3>d;d++)f=c[d],l=n+(n?f.charAt(0).toUpperCase()+f.slice(1):f),!r[f]&&l in t&&(r[f]=l);n&&!r.raf&&(n=n.toLowerCase(),r.raf=window[n+"RequestAnimationFrame"],r.raf&&(r.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!r.raf){var v=0;r.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-v)),r=window.setTimeout(function(){e(t+n)},n);return v=t+n,r},r.caf=function(e){clearTimeout(e)}}return r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=r,r}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,r){t=t.split(" ");for(var i,s=(r?"detach":"attach")+"Event",o=function(){n.handleEvent.call(n)},u=0;u<t.length;u++)if(i=t[u])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=o;e[s]("on"+i,n["oldIE"+i])}else e[s]("on"+i,n)});var s=this,o=25,u=3,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(a,r);var f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct=function(){return{x:0,y:0}},ht=ct(),pt=ct(),dt=ct(),vt={},mt=0,gt={},yt=ct(),bt=0,wt=!0,Et=[],St={},xt=!1,Tt=function(e,t){i.extend(s,t.publicMethods),Et.push(e)},Nt=function(e){var t=er();return e>t-1?e-t:0>e?t+e:e},Ct={},kt=function(e,t){return Ct[e]||(Ct[e]=[]),Ct[e].push(t)},Lt=function(e){var t=Ct[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(s,n)}},At=function(){return(new Date).getTime()},Ot=function(e){at=e,s.bg.style.opacity=e*a.bgOpacity},Mt=function(e,t,n,r,i){(!xt||i&&i!==s.currItem)&&(r/=i?i.fitRatio:s.currItem.fitRatio),e[O]=w+t+"px, "+n+"px"+E+" scale("+r+")"},_t=function(e){rt&&(e&&(y>s.currItem.fitRatio?xt||(hr(s.currItem,!1,!0),xt=!0):xt&&(hr(s.currItem),xt=!1)),Mt(rt,dt.x,dt.y,y))},Dt=function(e){e.container&&Mt(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Pt=function(e,t){t[O]=w+e+"px, 0px"+E},Ht=function(e,t){if(!a.loop&&t){var n=h+(yt.x*mt-e)/yt.x,r=Math.round(e-bn.x);(0>n&&r>0||n>=er()-1&&0>r)&&(e=bn.x+r*a.mainScrollEndFriction)}bn.x=e,Pt(e,p)},Bt=function(e,t){var n=wn[e]-gt[e];return pt[e]+ht[e]+n-n*(t/b)},jt=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ft=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},It=null,qt=function(){It&&(i.unbind(document,"mousemove",qt),i.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,Lt("mouseUsed")),It=setTimeout(function(){It=null},100)},Rt=function(){i.bind(document,"keydown",s),I.transform&&i.bind(s.scrollWrap,"click",s),a.mouseUsed||i.bind(document,"mousemove",qt),i.bind(window,"resize scroll",s),Lt("bindEvents")},Ut=function(){i.unbind(window,"resize",s),i.unbind(window,"scroll",g.scroll),i.unbind(document,"keydown",s),i.unbind(document,"mousemove",qt),I.transform&&i.unbind(s.scrollWrap,"click",s),V&&i.unbind(window,v,s),Lt("unbindEvents")},zt=function(e,t){var n=ar(s.currItem,vt,e);return t&&(nt=n),n},Wt=function(e){return e||(e=s.currItem),e.initialZoomLevel},Xt=function(e){return e||(e=s.currItem),e.w>0?a.maxSpreadZoom:1},Vt=function(e,t,n,r){return r===s.currItem.initialZoomLevel?(n[e]=s.currItem.initialPosition[e],!0):(n[e]=Bt(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]?(n[e]=t.max[e],!0):!1)},$t=function(){if(O){var t=I.perspective&&!_;return w="translate"+(t?"3d(":"("),void (E=I.perspective?", 0px)":")")}O="left",i.addClass(e,"pswp--ie"),Pt=function(e,t){t.left=e+"px"},Dt=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,i=t*e.h;n.width=r+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},_t=function(){if(rt){var e=rt,t=s.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,i=n*t.h;e.width=r+"px",e.height=i+"px",e.left=dt.x+"px",e.top=dt.y+"px"}}},Jt=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,s[t]()))},Kt=function(e){e&&(K||J||it||W)&&(e.preventDefault(),e.stopPropagation())},Qt=function(){s.setScrollOffset(0,i.getScrollY())},Gt={},Yt=0,Zt=function(e){Gt[e]&&(Gt[e].raf&&P(Gt[e].raf),Yt--,delete Gt[e])},en=function(e){Gt[e]&&Zt(e),Gt[e]||(Yt++,Gt[e]={})},tn=function(){for(var e in Gt)Gt.hasOwnProperty(e)&&Zt(e)},nn=function(e,t,n,r,i,s,o){var u,a=At();en(e);var f=function(){if(Gt[e]){if(u=At()-a,u>=r)return Zt(e),s(n),void (o&&o());s((n-t)*i(u/r)+t),Gt[e].raf=D(f)}};f()},rn={shout:Lt,listen:kt,viewportSize:vt,options:a,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return y},getCurrentIndex:function(){return h},isDragging:function(){return V},isZooming:function(){return Z},setScrollOffset:function(e,t){gt.x=e,F=gt.y=t,Lt("updateScrollOffset",gt)},applyZoomPan:function(e,t,n,r){dt.x=t,dt.y=n,y=e,_t(r)},init:function(){if(!f&&!l){var n;s.framework=i,s.template=e,s.bg=i.getChildByClass(e,"pswp__bg"),H=e.className,f=!0,I=i.detectFeatures(),D=I.raf,P=I.caf,O=I.transform,j=I.oldIE,s.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),s.container=i.getChildByClass(s.scrollWrap,"pswp__container"),p=s.container.style,s.itemHolders=T=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],T[0].el.style.display=T[2].el.style.display="none",$t(),g={resize:s.updateSize,scroll:Qt,keydown:Jt,click:Kt};var r=I.isOldIOSPhone||I.isOldAndroid||I.isMobileOpera;for(I.animationName&&I.transform&&!r||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<Et.length;n++)s["init"+Et[n]]();if(t){var o=s.ui=new t(s,i);o.init()}Lt("firstUpdate"),h=h||a.index||0,(isNaN(h)||0>h||h>=er())&&(h=0),s.currItem=Zn(h),(I.isOldIOSPhone||I.isOldAndroid)&&(wt=!1),e.setAttribute("aria-hidden","false"),a.modal&&(wt?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===F&&(Lt("initialLayout"),F=B=i.getScrollY());var c="pswp--open ";for(a.mainClass&&(c+=a.mainClass+" "),a.showHideOpacity&&(c+="pswp--animate_opacity "),c+=_?"pswp--touch":"pswp--notouch",c+=I.animationName?" pswp--css_animation":"",c+=I.svg?" pswp--svg":"",i.addClass(e,c),s.updateSize(),d=-1,bt=null,n=0;u>n;n++)Pt((n+d)*yt.x,T[n].el.style);j||i.bind(s.scrollWrap,m,s),kt("initialZoomInEnd",function(){s.setContent(T[0],h-1),s.setContent(T[2],h+1),T[0].el.style.display=T[2].el.style.display="block",a.focus&&e.focus(),Rt()}),s.setContent(T[1],h),s.updateCurrItem(),Lt("afterInit"),wt||(S=setInterval(function(){Yt||V||Z||y!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){f&&(f=!1,l=!0,Lt("close"),Ut(),nr(s.currItem,null,!0,s.destroy))},destroy:function(){Lt("destroy"),Kn&&clearTimeout(Kn),e.setAttribute("aria-hidden","true"),e.className=H,S&&clearInterval(S),i.unbind(s.scrollWrap,m,s),i.unbind(window,"scroll",s),Nn(),tn(),Ct=null},panTo:function(e,t,n){n||(e>nt.min.x?e=nt.min.x:e<nt.max.x&&(e=nt.max.x),t>nt.min.y?t=nt.min.y:t<nt.max.y&&(t=nt.max.y)),dt.x=e,dt.y=t,_t()},handleEvent:function(e){e=e||window.event,g[e.type]&&g[e.type](e)},goTo:function(e){e=Nt(e);var t=e-h;bt=t,h=e,s.currItem=Zn(h),mt-=t,Ht(yt.x*mt),tn(),it=!1,s.updateCurrItem()},next:function(){s.goTo(h+1)},prev:function(){s.goTo(h-1)},updateCurrZoomItem:function(e){if(e&&Lt("beforeChange",0),T[1].el.children.length){var t=T[1].el.children[0];rt=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else rt=null;nt=s.currItem.bounds,b=y=s.currItem.initialZoomLevel,dt.x=nt.center.x,dt.y=nt.center.y,e&&Lt("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;u>e;e++)T[e].item&&(T[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==bt){var t,n=Math.abs(bt);if(!(e&&2>n)){s.currItem=Zn(h),xt=!1,Lt("beforeChange",bt),n>=u&&(d+=bt+(bt>0?-u:u),n=u);for(var r=0;n>r;r++)bt>0?(t=T.shift(),T[u-1]=t,d++,Pt((d+2)*yt.x,t.el.style),s.setContent(t,h-n+r+1+1)):(t=T.pop(),T.unshift(t),d--,Pt(d*yt.x,t.el.style),s.setContent(t,h+n-r-1-1));if(rt&&1===Math.abs(bt)){var i=Zn(N);i.initialZoomLevel!==y&&(ar(i,vt),hr(i),Dt(i))}bt=0,s.updateCurrZoomItem(),N=h,Lt("afterChange")}}},updateSize:function(t){if(!wt&&a.modal){var n=i.getScrollY();if(F!==n&&(e.style.top=n+"px",F=n),!t&&St.x===window.innerWidth&&St.y===window.innerHeight)return;St.x=window.innerWidth,St.y=window.innerHeight,e.style.height=St.y+"px"}if(vt.x=s.scrollWrap.clientWidth,vt.y=s.scrollWrap.clientHeight,Qt(),yt.x=vt.x+Math.round(vt.x*a.spacing),yt.y=vt.y,Ht(yt.x*mt),Lt("beforeResize"),void 0!==d){for(var r,o,f,l=0;u>l;l++)r=T[l],Pt((l+d)*yt.x,r.el.style),f=h+l-1,a.loop&&er()>2&&(f=Nt(f)),o=Zn(f),o&&(x||o.needsUpdate||!o.bounds)?(s.cleanSlide(o),s.setContent(r,f),1===l&&(s.currItem=o,s.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===r.index&&f>=0&&s.setContent(r,f),o&&o.container&&(ar(o,vt),hr(o),Dt(o));x=!1}b=y=s.currItem.initialZoomLevel,nt=s.currItem.bounds,nt&&(dt.x=nt.center.x,dt.y=nt.center.y,_t(!0)),Lt("resize")},zoomTo:function(e,t,n,r,s){t&&(b=y,wn.x=Math.abs(t.x)-dt.x,wn.y=Math.abs(t.y)-dt.y,jt(pt,dt));var o=zt(e,!1),u={};Vt("x",o,u,e),Vt("y",o,u,e);var a=y,f={x:dt.x,y:dt.y};Ft(u);var l=function(t){1===t?(y=e,dt.x=u.x,dt.y=u.y):(y=(e-a)*t+a,dt.x=(u.x-f.x)*t+f.x,dt.y=(u.y-f.y)*t+f.y),s&&s(t),_t(1===t)};n?nn("customZoomTo",0,1,n,r||i.easing.sine.inOut,l):l(1)}},sn=30,on=10,un={},an={},fn={},ln={},cn={},hn=[],pn={},dn=[],vn={},mn=0,gn=ct(),yn=0,bn=ct(),wn=ct(),En=ct(),Sn=function(e,t){return e.x===t.x&&e.y===t.y},xn=function(e,t){return Math.abs(e.x-t.x)<o&&Math.abs(e.y-t.y)<o},Tn=function(e,t){return vn.x=Math.abs(e.x-t.x),vn.y=Math.abs(e.y-t.y),Math.sqrt(vn.x*vn.x+vn.y*vn.y)},Nn=function(){Q&&(P(Q),Q=null)},Cn=function(){V&&(Q=D(Cn),Un())},kn=function(){return"fit"!==a.scaleMode||y!==s.currItem.initialZoomLevel},Ln=function(e,t){return e&&e!==document?e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:Ln(e.parentNode,t):!1},An={},On=function(e,t){return An.prevent=!Ln(e.target,a.isClickableElement),Lt("preventDragEvent",e,t,An),An.prevent},Mn=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},_n=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Dn=function(e,t,n){if(e-R>50){var r=dn.length>2?dn.shift():{};r.x=t,r.y=n,dn.push(r),R=e}},Pn=function(){var e=dt.y-s.currItem.initialPosition.y;return 1-Math.abs(e/(vt.y/2))},Hn={},Bn={},jn=[],Fn=function(e){for(;jn.length>0;)jn.pop();return M?(lt=0,hn.forEach(function(e){0===lt?jn[0]=e:1===lt&&(jn[1]=e),lt++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(jn[0]=Mn(e.touches[0],Hn),e.touches.length>1&&(jn[1]=Mn(e.touches[1],Bn))):(Hn.x=e.pageX,Hn.y=e.pageY,Hn.id="",jn[0]=Hn),jn},In=function(e,t){var n,r,i,o,u=0,f=dt[e]+t[e],l=t[e]>0,c=bn.x+t.x,h=bn.x-pn.x;return n=f>nt.min[e]||f<nt.max[e]?a.panEndFriction:1,f=dt[e]+t[e]*n,!a.allowPanToNext&&y!==s.currItem.initialZoomLevel||(rt?"h"!==st||"x"!==e||J||(l?(f>nt.min[e]&&(n=a.panEndFriction,u=nt.min[e]-f,r=nt.min[e]-pt[e]),(0>=r||0>h)&&er()>1?(o=c,0>h&&c>pn.x&&(o=pn.x)):nt.min.x!==nt.max.x&&(i=f)):(f<nt.max[e]&&(n=a.panEndFriction,u=f-nt.max[e],r=pt[e]-nt.max[e]),(0>=r||h>0)&&er()>1?(o=c,h>0&&c<pn.x&&(o=pn.x)):nt.min.x!==nt.max.x&&(i=f))):o=c,"x"!==e)?void (it||G||y>s.currItem.fitRatio&&(dt[e]+=t[e]*n)):(void 0!==o&&(Ht(o,!0),G=o===pn.x?!1:!0),nt.min.x!==nt.max.x&&(void 0!==i?dt.x=i:G||(dt.x+=t.x*n)),void 0!==o)},qn=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Yn)return void e.preventDefault();if(!X||"mousedown"!==e.type){if(On(e,!0)&&e.preventDefault(),Lt("pointerDown"),M){var t=i.arraySearch(hn,e.pointerId,"id");0>t&&(t=hn.length),hn[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Fn(e),r=n.length;Y=null,tn(),V&&1!==r||(V=ot=!0,i.bind(window,v,s),z=ft=ut=W=G=K=$=J=!1,st=null,Lt("firstTouchStart",n),jt(pt,dt),ht.x=ht.y=0,jt(ln,n[0]),jt(cn,ln),pn.x=yt.x*mt,dn=[{x:ln.x,y:ln.y}],R=q=At(),zt(y,!0),Nn(),Cn()),!Z&&r>1&&!it&&!G&&(b=y,J=!1,Z=$=!0,ht.y=ht.x=0,jt(pt,dt),jt(un,n[0]),jt(an,n[1]),_n(un,an,En),wn.x=Math.abs(En.x)-dt.x,wn.y=Math.abs(En.y)-dt.y,et=tt=Tn(un,an))}}},Rn=function(e){if(e.preventDefault(),M){var t=i.arraySearch(hn,e.pointerId,"id");if(t>-1){var n=hn[t];n.x=e.pageX,n.y=e.pageY}}if(V){var r=Fn(e);if(st||K||Z)Y=r;else if(bn.x!==yt.x*mt)st="h";else{var s=Math.abs(r[0].x-ln.x)-Math.abs(r[0].y-ln.y);Math.abs(s)>=on&&(st=s>0?"h":"v",Y=r)}}},Un=function(){if(Y){var e=Y.length;if(0!==e)if(jt(un,Y[0]),fn.x=un.x-ln.x,fn.y=un.y-ln.y,Z&&e>1){if(ln.x=un.x,ln.y=un.y,!fn.x&&!fn.y&&Sn(Y[1],an))return;jt(an,Y[1]),J||(J=!0,Lt("zoomGestureStarted"));var t=Tn(un,an),n=$n(t);n>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ft=!0);var r=1,i=Wt(),o=Xt();if(i>n)if(a.pinchToClose&&!ft&&b<=s.currItem.initialZoomLevel){var u=i-n,f=1-u/(i/1.2);Ot(f),Lt("onPinchClose",f),ut=!0}else r=(i-n)/i,r>1&&(r=1),n=i-r*(i/3);else n>o&&(r=(n-o)/(6*i),r>1&&(r=1),n=o+r*i);0>r&&(r=0),et=t,_n(un,an,gn),ht.x+=gn.x-En.x,ht.y+=gn.y-En.y,jt(En,gn),dt.x=Bt("x",n),dt.y=Bt("y",n),z=n>y,y=n,_t()}else{if(!st)return;if(ot&&(ot=!1,Math.abs(fn.x)>=on&&(fn.x-=Y[0].x-cn.x),Math.abs(fn.y)>=on&&(fn.y-=Y[0].y-cn.y)),ln.x=un.x,ln.y=un.y,0===fn.x&&0===fn.y)return;if("v"===st&&a.closeOnVerticalDrag&&!kn()){ht.y+=fn.y,dt.y+=fn.y;var l=Pn();return W=!0,Lt("onVerticalDrag",l),Ot(l),void _t()}Dn(At(),un.x,un.y),K=!0,nt=s.currItem.bounds;var c=In("x",fn);c||(In("y",fn),Ft(dt),_t())}}},zn=function(e){if(I.isOldAndroid){if(X&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(X),X=setTimeout(function(){X=0},600))}Lt("pointerUp"),On(e,!1)&&e.preventDefault();var t;if(M){var n=i.arraySearch(hn,e.pointerId,"id");if(n>-1)if(t=hn.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var r={4:"mouse",2:"touch",3:"pen"};t.type=r[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var o,u=Fn(e),f=u.length;if("mouseup"===e.type&&(f=0),2===f)return Y=null,!0;1===f&&jt(cn,u[0]),0!==f||st||it||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Lt("touchRelease",e,t));var l=-1;if(0===f&&(V=!1,i.unbind(window,v,s),Nn(),Z?l=0:-1!==yn&&(l=At()-yn)),yn=1===f?At():-1,o=-1!==l&&150>l?"zoom":"swipe",Z&&2>f&&(Z=!1,1===f&&(o="zoomPointerUp"),Lt("zoomGestureEnded")),Y=null,K||J||it||W)if(tn(),U||(U=Wn()),U.calculateSwipeSpeed("x"),W){var c=Pn();if(c<a.verticalDragRange)s.close();else{var h=dt.y,p=at;nn("verticalDrag",0,1,300,i.easing.cubic.out,function(e){dt.y=(s.currItem.initialPosition.y-h)*e+h,Ot((1-p)*e+p),_t()}),Lt("onVerticalDrag",1)}}else{if((G||it)&&0===f){var d=Vn(o,U);if(d)return;o="zoomPointerUp"}if(!it)return"swipe"!==o?void Jn():void (!G&&y>s.currItem.fitRatio&&Xn(U))}},Wn=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){dn.length>1?(e=At()-R+50,t=dn[dn.length-2][r]):(e=At()-q,t=cn[r]),n.lastFlickOffset[r]=ln[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(dt[e]>nt.min[e]?n.backAnimDestination[e]=nt.min[e]:dt[e]<nt.max[e]&&(n.backAnimDestination[e]=nt.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nn("bounceZoomPan"+e,dt[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){dt[e]=t,_t()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,dt[e]+=n.distanceOffset[e])},panAnimLoop:function(){return Gt.zoomPan&&(Gt.zoomPan.raf=D(n.panAnimLoop),n.now=At(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),_t(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)?(dt.x=Math.round(dt.x),dt.y=Math.round(dt.y),_t(),void Zt("zoomPan")):void 0}};return n},Xn=function(e){return e.calculateSwipeSpeed("y"),nt=s.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(en("zoomPan"),e.lastNow=At(),void e.panAnimLoop())},Vn=function(e,t){var n;it||(mn=h);var r;if("swipe"===e){var o=ln.x-cn.x,u=t.lastFlickDist.x<10;o>sn&&(u||t.lastFlickOffset.x>20)?r=-1:-sn>o&&(u||t.lastFlickOffset.x<-20)&&(r=1)}var f;r&&(h+=r,0>h?(h=a.loop?er()-1:0,f=!0):h>=er()&&(h=a.loop?0:er()-1,f=!0),(!f||a.loop)&&(bt+=r,mt-=r,n=!0));var l,c=yt.x*mt,p=Math.abs(c-bn.x);return n||c>bn.x==t.lastFlickSpeed.x>0?(l=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,l=Math.min(l,400),l=Math.max(l,250)):l=333,mn===h&&(n=!1),it=!0,Lt("mainScrollAnimStart"),nn("mainScroll",bn.x,c,l,i.easing.cubic.out,Ht,function(){tn(),it=!1,mn=-1,(n||mn!==h)&&s.updateCurrItem(),Lt("mainScrollAnimComplete")}),n&&s.updateCurrItem(!0),n},$n=function(e){return 1/tt*e*b},Jn=function(){var e=y,t=Wt(),n=Xt();t>y?e=t:y>n&&(e=n);var r,o=1,u=at;return ut&&!z&&!ft&&t>y?(s.close(),!0):(ut&&(r=function(e){Ot((o-u)*e+u)}),s.zoomTo(e,0,200,i.easing.cubic.out,r),!0)};Tt("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,i){C=e+t,k=e+n,L=e+r,A=i?e+i:""};M=I.pointerEvent,M&&I.touch&&(I.touch=!1),M?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):I.touch?(e("touch","start","move","end","cancel"),_=!0):e("mouse","down","move","up"),v=k+" "+L+" "+A,m=C,M&&!_&&(_=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=_,g[C]=qn,g[k]=Rn,g[L]=zn,A&&(g[A]=g[L]),I.touch&&(m+=" mousedown",v+=" mousemove mouseup",g.mousedown=g[C],g.mousemove=g[k],g.mouseup=g[L]),_||(a.allowPanToNext=!1)}}});var Kn,Qn,Gn,Yn,Zn,er,tr,nr=function(t,n,r,o){Kn&&clearTimeout(Kn),Yn=!0,Gn=!0;var u;t.initialLayout?(u=t.initialLayout,t.initialLayout=null):u=a.getThumbBoundsFn&&a.getThumbBoundsFn(h);var f=r?a.hideAnimationDuration:a.showAnimationDuration,l=function(){Zt("initialZoom"),r?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(Ot(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),Lt("initialZoom"+(r?"OutEnd":"InEnd"))),o&&o(),Yn=!1};if(!f||!u||void 0===u.x)return Lt("initialZoom"+(r?"Out":"In")),y=t.initialZoomLevel,jt(dt,t.initialPosition),_t(),e.style.opacity=r?0:1,Ot(1),void (f?setTimeout(function(){l()},f):l());var p=function(){var n=c,o=!s.currItem.src||s.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(y=u.w/t.w,dt.x=u.x,dt.y=u.y-B,s[o?"template":"bg"].style.opacity=.001,_t()),en("initialZoom"),r&&!n&&i.removeClass(e,"pswp--animated-in"),o&&(r?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),Kn=setTimeout(function(){if(Lt("initialZoom"+(r?"Out":"In")),r){var s=u.w/t.w,a={x:dt.x,y:dt.y},c=y,h=at,p=function(t){1===t?(y=s,dt.x=u.x,dt.y=u.y-F):(y=(s-c)*t+c,dt.x=(u.x-a.x)*t+a.x,dt.y=(u.y-F-a.y)*t+a.y),_t(),o?e.style.opacity=1-t:Ot(h-t*h)};n?nn("initialZoom",0,1,f,i.easing.cubic.out,p,l):(p(1),Kn=setTimeout(l,f+20))}else y=t.initialZoomLevel,jt(dt,t.initialPosition),_t(),Ot(1),o?e.style.opacity=1:Ot(1),Kn=setTimeout(l,f+20)},r?25:90)};p()},rr={},ir=[],sr={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Qn.length}},or=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ur=function(e,t,n){var r=e.bounds;r.center.x=Math.round((rr.x-t)/2),r.center.y=Math.round((rr.y-n)/2)+e.vGap.top,r.max.x=t>rr.x?Math.round(rr.x-t):r.center.x,r.max.y=n>rr.y?Math.round(rr.y-n)+e.vGap.top:r.center.y,r.min.x=t>rr.x?0:r.center.x,r.min.y=n>rr.y?e.vGap.top:r.center.y},ar=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),Lt("parseVerticalMargin",e)),rr.x=t.x,rr.y=t.y-e.vGap.top-e.vGap.bottom,r){var i=rr.x/e.w,s=rr.y/e.h;e.fitRatio=s>i?i:s;var o=a.scaleMode;"orig"===o?n=1:"fit"===o&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=or())}if(!n)return;return ur(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=or(),e.initialPosition=e.bounds.center,e.bounds},fr=function(e,t,n,r,i,o){t.loadError||r&&(t.imageAppended=!0,hr(t,r,t===s.currItem&&xt),n.appendChild(r),o&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},lr=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},cr=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0):void 0},hr=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=i+"px"),t.style.width=r+"px",t.style.height=i+"px"}},pr=function(){if(ir.length){for(var e,t=0;t<ir.length;t++)e=ir[t],e.holder.index===e.index&&fr(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);ir=[]}};Tt("Controller",{publicMethods:{lazyLoadItem:function(e){e=Nt(e);var t=Zn(e);t&&(!t.loaded&&!t.loading||x)&&(Lt("gettingData",e,t),t.src&&lr(t))},initController:function(){i.extend(a,sr,!0),s.items=Qn=n,Zn=s.getItemAt,er=a.getNumItemsFn,tr=a.loop,er()<3&&(a.loop=!1),kt("beforeChange",function(e){var t,n=a.preload,r=null===e?!0:e>=0,i=Math.min(n[0],er()),o=Math.min(n[1],er());for(t=1;(r?o:i)>=t;t++)s.lazyLoadItem(h+t);for(t=1;(r?i:o)>=t;t++)s.lazyLoadItem(h-t)}),kt("initialLayout",function(){s.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(h)}),kt("mainScrollAnimComplete",pr),kt("initialZoomInEnd",pr),kt("destroy",function(){for(var e,t=0;t<Qn.length;t++)e=Qn[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);ir=null})},getItemAt:function(e){return e>=0&&void 0!==Qn[e]?Qn[e]:!1},allowProgressiveImg:function(){return a.forceProgressiveLoading||!_||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=Nt(t));var n=s.getItemAt(e.index);n&&(n.container=null);var r,o=s.getItemAt(t);if(!o)return void (e.el.innerHTML="");Lt("gettingData",t,o),e.index=t,e.item=o;var u=o.container=i.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?u.appendChild(o.html):u.innerHTML=o.html),cr(o),ar(o,vt),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(r=i.createEl("pswp__img","img"),r.style.opacity=1,r.src=o.src,hr(o,r),fr(t,o,u,r,!0));else{if(o.loadComplete=function(n){if(f){if(e&&e.index===t){if(cr(n,!0))return n.loadComplete=n.img=null,ar(n,vt),Dt(n),void (e.index===h&&s.updateCurrZoomItem());n.imageAppended?!Yn&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):I.transform&&(it||Yn)?ir.push({item:n,baseDiv:u,img:n.img,index:t,holder:e,clearPlaceholder:!0}):fr(t,n,u,n.img,it||Yn,!0)}n.loadComplete=null,n.img=null,Lt("imageLoadComplete",t,n)}},i.features.transform){var l="pswp__img pswp__img--placeholder";l+=o.msrc?"":" pswp__img--placeholder--blank";var c=i.createEl(l,o.msrc?"img":"");o.msrc&&(c.src=o.msrc),hr(o,c),u.appendChild(c),o.placeholder=c}o.loading||lr(o),s.allowProgressiveImg()&&(!Gn&&I.transform?ir.push({item:o,baseDiv:u,img:o.img,index:t,holder:e}):fr(t,o,u,o.img,!0,!0))}Gn||t!==h?Dt(o):(rt=u.style,nr(o,r||o.img)),e.el.innerHTML="",e.el.appendChild(u)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var dr,vr={},mr=function(e,t,n){var r=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(r)};Tt("Tap",{publicMethods:{initTap:function(){kt("firstTouchStart",s.onTapStart),kt("touchRelease",s.onTapRelease),kt("destroy",function(){vr={},dr=null})},onTapStart:function(e){e.length>1&&(clearTimeout(dr),dr=null)},onTapRelease:function(e,t){if(t&&!K&&!$&&!Yt){var n=t;if(dr&&(clearTimeout(dr),dr=null,xn(n,vr)))return void Lt("doubleTap",n);if("mouse"===t.type)return void mr(e,t,"mouse");var r=e.target.tagName.toUpperCase();if("BUTTON"===r||i.hasClass(e.target,"pswp__single-tap"))return void mr(e,t);jt(vr,n),dr=setTimeout(function(){mr(e,t),dr=null},300)}}}});var gr;Tt("DesktopZoom",{publicMethods:{initDesktopZoom:function(){j||(_?kt("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(t){gr={};var n="wheel mousewheel DOMMouseScroll";kt("bindEvents",function(){i.bind(e,n,s.handleMouseWheel)}),kt("unbindEvents",function(){gr&&i.unbind(e,n,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var r,o=function(){s.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),s.mouseZoomedIn=!1),1>y?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),u()},u=function(){r&&(i.removeClass(e,"pswp--dragging"),r=!1)};kt("resize",o),kt("afterChange",o),kt("pointerDown",function(){s.mouseZoomedIn&&(r=!0,i.addClass(e,"pswp--dragging"))}),kt("pointerUp",u),t||o()},handleMouseWheel:function(e){if(y<=s.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||Yt||V?e.preventDefault():O&&Math.abs(e.deltaY)>2&&(c=!0,s.close())),!0;if(e.stopPropagation(),gr.x=0,"deltaX"in e)1===e.deltaMode?(gr.x=18*e.deltaX,gr.y=18*e.deltaY):(gr.x=e.deltaX,gr.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(gr.x=-0.16*e.wheelDeltaX),e.wheelDeltaY?gr.y=-0.16*e.wheelDeltaY:gr.y=-0.16*e.wheelDelta;else{if(!("detail"in e))return;gr.y=e.detail}zt(y,!0);var t=dt.x-gr.x,n=dt.y-gr.y;(a.modal||t<=nt.min.x&&t>=nt.max.x&&n<=nt.min.y&&n>=nt.max.y)&&e.preventDefault(),s.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:vt.x/2+gt.x,y:vt.y/2+gt.y};var n=a.getDoubleTapZoom(!0,s.currItem),r=y===n;s.mouseZoomedIn=!r,s.zoomTo(r?s.currItem.initialZoomLevel:n,t,333),i[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var yr,br,wr,Er,Sr,xr,Tr,Nr,Cr,kr,Lr,Ar,Or={history:!0,galleryUID:1},Mr=function(){return Lr.hash.substring(1)},_r=function(){yr&&clearTimeout(yr),wr&&clearTimeout(wr)},Dr=function(){var e=Mr(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(t[i[0]]=i[1])}if(a.galleryPIDs){var s=t.pid;for(t.pid=0,n=0;n<Qn.length;n++)if(Qn[n].pid===s){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Pr=function(){if(wr&&clearTimeout(wr),Yt||V)return void (wr=setTimeout(Pr,500));Er?clearTimeout(br):Er=!0;var e=h+1,t=Zn(h);t.hasOwnProperty("pid")&&(e=t.pid);var n=Tr+"&gid="+a.galleryUID+"&pid="+e;Nr||-1===Lr.hash.indexOf(n)&&(kr=!0);var r=Lr.href.split("#")[0]+"#"+n;Ar?"#"+n!==window.location.hash&&history[Nr?"replaceState":"pushState"]("",document.title,r):Nr?Lr.replace(r):Lr.hash=n,Nr=!0,br=setTimeout(function(){Er=!1},60)};Tt("History",{publicMethods:{initHistory:function(){if(i.extend(a,Or,!0),a.history){Lr=window.location,kr=!1,Cr=!1,Nr=!1,Tr=Mr(),Ar="pushState"in history,Tr.indexOf("gid=")>-1&&(Tr=Tr.split("&gid=")[0],Tr=Tr.split("?gid=")[0]),kt("afterChange",s.updateURL),kt("unbindEvents",function(){i.unbind(window,"hashchange",s.onHashChange)});var e=function(){xr=!0,Cr||(kr?history.back():Tr?Lr.hash=Tr:Ar?history.pushState("",document.title,Lr.pathname+Lr.search):Lr.hash=""),_r()};kt("unbindEvents",function(){c&&e()}),kt("destroy",function(){xr||e()}),kt("firstUpdate",function(){h=Dr().pid});var t=Tr.indexOf("pid=");t>-1&&(Tr=Tr.substring(0,t),"&"===Tr.slice(-1)&&(Tr=Tr.slice(0,-1))),setTimeout(function(){f&&i.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){return Mr()===Tr?(Cr=!0,void s.close()):void (Er||(Sr=!0,s.goTo(Dr().pid),Sr=!1))},updateURL:function(){_r(),Sr||(Nr?yr=setTimeout(Pr,800):Pr())}}}),i.extend(s,rn)};return e});